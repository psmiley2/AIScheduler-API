function cov_sx5ei3ogs(){var path="C:\\Users\\peter\\Desktop\\Files\\perhail\\server\\api.js";var hash="1d794dc31a470fd667afabdfc587cd3c8ba276ca";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\peter\\Desktop\\Files\\perhail\\server\\api.js",statementMap:{"0":{start:{line:4,column:16},end:{line:4,column:34}},"1":{start:{line:5,column:13},end:{line:5,column:28}},"2":{start:{line:6,column:0},end:{line:6,column:27}},"3":{start:{line:7,column:15},end:{line:7,column:42}},"4":{start:{line:8,column:11},end:{line:8,column:66}},"5":{start:{line:9,column:13},end:{line:9,column:28}},"6":{start:{line:10,column:17},end:{line:10,column:36}},"7":{start:{line:11,column:17},end:{line:11,column:36}},"8":{start:{line:12,column:16},end:{line:12,column:42}},"9":{start:{line:13,column:19},end:{line:13,column:43}},"10":{start:{line:15,column:19},end:{line:15,column:44}},"11":{start:{line:16,column:19},end:{line:16,column:44}},"12":{start:{line:17,column:19},end:{line:17,column:44}},"13":{start:{line:18,column:20},end:{line:18,column:46}},"14":{start:{line:19,column:25},end:{line:19,column:56}},"15":{start:{line:21,column:10},end:{line:21,column:19}},"16":{start:{line:24,column:0},end:{line:24,column:39}},"17":{start:{line:27,column:0},end:{line:27,column:49}},"18":{start:{line:29,column:0},end:{line:29,column:24}},"19":{start:{line:32,column:0},end:{line:36,column:2}},"20":{start:{line:39,column:0},end:{line:42,column:3}},"21":{start:{line:45,column:0},end:{line:52,column:2}},"22":{start:{line:55,column:0},end:{line:55,column:31}},"23":{start:{line:56,column:0},end:{line:56,column:28}},"24":{start:{line:59,column:0},end:{line:61,column:3}},"25":{start:{line:60,column:4},end:{line:60,column:47}},"26":{start:{line:62,column:0},end:{line:62,column:30}},"27":{start:{line:63,column:0},end:{line:63,column:30}},"28":{start:{line:64,column:0},end:{line:64,column:30}},"29":{start:{line:65,column:0},end:{line:65,column:32}},"30":{start:{line:66,column:0},end:{line:66,column:42}},"31":{start:{line:69,column:13},end:{line:69,column:37}},"32":{start:{line:70,column:0},end:{line:70,column:60}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:59,column:13},end:{line:59,column:14}},loc:{start:{line:59,column:27},end:{line:61,column:1}},line:59}},branchMap:{"0":{loc:{start:{line:69,column:13},end:{line:69,column:37}},type:"binary-expr",locations:[{start:{line:69,column:13},end:{line:69,column:29}},{start:{line:69,column:33},end:{line:69,column:37}}],line:69}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1d794dc31a470fd667afabdfc587cd3c8ba276ca"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_sx5ei3ogs=function(){return actualCoverage;};}return actualCoverage;}cov_sx5ei3ogs();/* -------------------------------------------------------------------------- */ /*                                    SetUp                                   */ /* -------------------------------------------------------------------------- */const express=(cov_sx5ei3ogs().s[0]++,require("express"));const path=(cov_sx5ei3ogs().s[1]++,require("path"));cov_sx5ei3ogs().s[2]++;require("dotenv").config();let ObjectID=(cov_sx5ei3ogs().s[3]++,require("mongodb").ObjectID);const DB=(cov_sx5ei3ogs().s[4]++,require(path.join(__dirname,"modules","database.js")));const cors=(cov_sx5ei3ogs().s[5]++,require("cors"));const mongoose=(cov_sx5ei3ogs().s[6]++,require("mongoose"));const passport=(cov_sx5ei3ogs().s[7]++,require("passport"));const session=(cov_sx5ei3ogs().s[8]++,require("express-session"));var cookieParser=(cov_sx5ei3ogs().s[9]++,require("cookie-parser"));const userRoutes=(cov_sx5ei3ogs().s[10]++,require("./routes/users"));const taskRoutes=(cov_sx5ei3ogs().s[11]++,require("./routes/tasks"));const goalRoutes=(cov_sx5ei3ogs().s[12]++,require("./routes/goals"));const eventRoutes=(cov_sx5ei3ogs().s[13]++,require("./routes/events"));const preferenceRoutes=(cov_sx5ei3ogs().s[14]++,require("./routes/preferences"));let app=(cov_sx5ei3ogs().s[15]++,express());// Passport Config
cov_sx5ei3ogs().s[16]++;require("./config/passport")(passport);// Express Body Parser
cov_sx5ei3ogs().s[17]++;app.use(express.urlencoded({extended:false}));cov_sx5ei3ogs().s[18]++;app.use(express.json());// Cors
cov_sx5ei3ogs().s[19]++;app.use(cors({origin:["http://localhost:3000"]}));// Database
cov_sx5ei3ogs().s[20]++;mongoose.connect(process.env.MONGODB_URI,{useNewUrlParser:true,useUnifiedTopology:true});// Express session
cov_sx5ei3ogs().s[21]++;app.use(session({secret:"secret",// TODO -  MAKE THIS A LEGIT AND HIDDEN SECRET
resave:true,saveUninitialized:true// cookie: { secure: true }, // TODO - ALLOW ONCE WEBSITE IS HTTPS
}));// Passport middleware
cov_sx5ei3ogs().s[22]++;app.use(passport.initialize());cov_sx5ei3ogs().s[23]++;app.use(passport.session());// Routes
cov_sx5ei3ogs().s[24]++;app.get("/",(req,res)=>{cov_sx5ei3ogs().f[0]++;cov_sx5ei3ogs().s[25]++;res.status(200).send("server is running!");});cov_sx5ei3ogs().s[26]++;app.use("/users",userRoutes);cov_sx5ei3ogs().s[27]++;app.use("/tasks",taskRoutes);cov_sx5ei3ogs().s[28]++;app.use("/goals",goalRoutes);cov_sx5ei3ogs().s[29]++;app.use("/events",eventRoutes);cov_sx5ei3ogs().s[30]++;app.use("/preferences",preferenceRoutes);// Server Start
const PORT=(cov_sx5ei3ogs().s[31]++,(cov_sx5ei3ogs().b[0][0]++,process.env.PORT)||(cov_sx5ei3ogs().b[0][1]++,8080));cov_sx5ei3ogs().s[32]++;app.listen(PORT,console.log(`Listening on PORT: ${PORT}`));// MONGODB
// startServer = async (app) => {
//     await DB.establishConnection()
//         .then(() => {
//             app.listen(process.env.PORT);
//             console.log("listening...");
//         })
//         .catch((err) => {
//             console.error(err);
//             process.exit(1);
//         });
//     return app;
// };
// app = startServer(app);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInBhdGgiLCJjb25maWciLCJPYmplY3RJRCIsIkRCIiwiam9pbiIsIl9fZGlybmFtZSIsImNvcnMiLCJtb25nb29zZSIsInBhc3Nwb3J0Iiwic2Vzc2lvbiIsImNvb2tpZVBhcnNlciIsInVzZXJSb3V0ZXMiLCJ0YXNrUm91dGVzIiwiZ29hbFJvdXRlcyIsImV2ZW50Um91dGVzIiwicHJlZmVyZW5jZVJvdXRlcyIsImFwcCIsInVzZSIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJvcmlnaW4iLCJjb25uZWN0IiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5Iiwic2VjcmV0IiwicmVzYXZlIiwic2F2ZVVuaW5pdGlhbGl6ZWQiLCJpbml0aWFsaXplIiwiZ2V0IiwicmVxIiwicmVzIiwic3RhdHVzIiwic2VuZCIsIlBPUlQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiczlGQWVZO3lGQWZaLGdGLENBQ0EsZ0YsQ0FDQSxnRkFDQSxLQUFNQSxDQUFBQSxPQUFPLHlCQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFWLENBQWIsQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLHlCQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFWLENBQVYsQyx1QkFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkUsTUFBbEIsR0FDQSxHQUFJQyxDQUFBQSxRQUFRLHlCQUFHSCxPQUFPLENBQUMsU0FBRCxDQUFQLENBQW1CRyxRQUF0QixDQUFaLENBQ0EsS0FBTUMsQ0FBQUEsRUFBRSx5QkFBR0osT0FBTyxDQUFDQyxJQUFJLENBQUNJLElBQUwsQ0FBVUMsU0FBVixDQUFxQixTQUFyQixDQUFnQyxhQUFoQyxDQUFELENBQVYsQ0FBUixDQUNBLEtBQU1DLENBQUFBLElBQUkseUJBQUdQLE9BQU8sQ0FBQyxNQUFELENB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldFVwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcclxubGV0IE9iamVjdElEID0gcmVxdWlyZShcIm1vbmdvZGJcIikuT2JqZWN0SUQ7XHJcbmNvbnN0IERCID0gcmVxdWlyZShwYXRoLmpvaW4oX19kaXJuYW1lLCBcIm1vZHVsZXNcIiwgXCJkYXRhYmFzZS5qc1wiKSk7XHJcbmNvbnN0IGNvcnMgPSByZXF1aXJlKFwiY29yc1wiKTtcclxuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbmNvbnN0IHBhc3Nwb3J0ID0gcmVxdWlyZShcInBhc3Nwb3J0XCIpO1xyXG5jb25zdCBzZXNzaW9uID0gcmVxdWlyZShcImV4cHJlc3Mtc2Vzc2lvblwiKTtcclxudmFyIGNvb2tpZVBhcnNlciA9IHJlcXVpcmUoXCJjb29raWUtcGFyc2VyXCIpO1xyXG5cclxuY29uc3QgdXNlclJvdXRlcyA9IHJlcXVpcmUoXCIuL3JvdXRlcy91c2Vyc1wiKTtcclxuY29uc3QgdGFza1JvdXRlcyA9IHJlcXVpcmUoXCIuL3JvdXRlcy90YXNrc1wiKTtcclxuY29uc3QgZ29hbFJvdXRlcyA9IHJlcXVpcmUoXCIuL3JvdXRlcy9nb2Fsc1wiKTtcclxuY29uc3QgZXZlbnRSb3V0ZXMgPSByZXF1aXJlKFwiLi9yb3V0ZXMvZXZlbnRzXCIpO1xyXG5jb25zdCBwcmVmZXJlbmNlUm91dGVzID0gcmVxdWlyZShcIi4vcm91dGVzL3ByZWZlcmVuY2VzXCIpO1xyXG5cclxubGV0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcbi8vIFBhc3Nwb3J0IENvbmZpZ1xyXG5yZXF1aXJlKFwiLi9jb25maWcvcGFzc3BvcnRcIikocGFzc3BvcnQpO1xyXG5cclxuLy8gRXhwcmVzcyBCb2R5IFBhcnNlclxyXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XHJcblxyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuXHJcbi8vIENvcnNcclxuYXBwLnVzZShcclxuICAgIGNvcnMoe1xyXG4gICAgICAgIG9yaWdpbjogW1wiaHR0cDovL2xvY2FsaG9zdDozMDAwXCJdLFxyXG4gICAgfSlcclxuKTtcclxuXHJcbi8vIERhdGFiYXNlXHJcbm1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09EQl9VUkksIHtcclxuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcclxufSk7XHJcblxyXG4vLyBFeHByZXNzIHNlc3Npb25cclxuYXBwLnVzZShcclxuICAgIHNlc3Npb24oe1xyXG4gICAgICAgIHNlY3JldDogXCJzZWNyZXRcIiwgLy8gVE9ETyAtICBNQUtFIFRISVMgQSBMRUdJVCBBTkQgSElEREVOIFNFQ1JFVFxyXG4gICAgICAgIHJlc2F2ZTogdHJ1ZSxcclxuICAgICAgICBzYXZlVW5pbml0aWFsaXplZDogdHJ1ZSxcclxuICAgICAgICAvLyBjb29raWU6IHsgc2VjdXJlOiB0cnVlIH0sIC8vIFRPRE8gLSBBTExPVyBPTkNFIFdFQlNJVEUgSVMgSFRUUFNcclxuICAgIH0pXHJcbik7XHJcblxyXG4vLyBQYXNzcG9ydCBtaWRkbGV3YXJlXHJcbmFwcC51c2UocGFzc3BvcnQuaW5pdGlhbGl6ZSgpKTtcclxuYXBwLnVzZShwYXNzcG9ydC5zZXNzaW9uKCkpO1xyXG5cclxuLy8gUm91dGVzXHJcbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnN0YXR1cygyMDApLnNlbmQoXCJzZXJ2ZXIgaXMgcnVubmluZyFcIik7XHJcbn0pO1xyXG5hcHAudXNlKFwiL3VzZXJzXCIsIHVzZXJSb3V0ZXMpO1xyXG5hcHAudXNlKFwiL3Rhc2tzXCIsIHRhc2tSb3V0ZXMpO1xyXG5hcHAudXNlKFwiL2dvYWxzXCIsIGdvYWxSb3V0ZXMpO1xyXG5hcHAudXNlKFwiL2V2ZW50c1wiLCBldmVudFJvdXRlcyk7XHJcbmFwcC51c2UoXCIvcHJlZmVyZW5jZXNcIiwgcHJlZmVyZW5jZVJvdXRlcyk7XHJcblxyXG4vLyBTZXJ2ZXIgU3RhcnRcclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgODA4MDtcclxuYXBwLmxpc3RlbihQT1JULCBjb25zb2xlLmxvZyhgTGlzdGVuaW5nIG9uIFBPUlQ6ICR7UE9SVH1gKSk7XHJcblxyXG4vLyBNT05HT0RCXHJcbi8vIHN0YXJ0U2VydmVyID0gYXN5bmMgKGFwcCkgPT4ge1xyXG4vLyAgICAgYXdhaXQgREIuZXN0YWJsaXNoQ29ubmVjdGlvbigpXHJcbi8vICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4vLyAgICAgICAgICAgICBhcHAubGlzdGVuKHByb2Nlc3MuZW52LlBPUlQpO1xyXG4vLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxpc3RlbmluZy4uLlwiKTtcclxuLy8gICAgICAgICB9KVxyXG4vLyAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbi8vICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgcmV0dXJuIGFwcDtcclxuLy8gfTtcclxuLy8gYXBwID0gc3RhcnRTZXJ2ZXIoYXBwKTtcclxuIl19