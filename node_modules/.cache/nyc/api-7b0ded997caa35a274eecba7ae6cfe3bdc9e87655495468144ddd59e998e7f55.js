function cov_sx5ei3ogs(){var path="C:\\Users\\peter\\Desktop\\Files\\perhail\\server\\api.js";var hash="eb5c2d939cbc65277c3ddd99be14d1e63ac01508";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\peter\\Desktop\\Files\\perhail\\server\\api.js",statementMap:{"0":{start:{line:4,column:16},end:{line:4,column:34}},"1":{start:{line:5,column:13},end:{line:5,column:28}},"2":{start:{line:6,column:0},end:{line:6,column:27}},"3":{start:{line:7,column:13},end:{line:7,column:28}},"4":{start:{line:8,column:17},end:{line:8,column:36}},"5":{start:{line:9,column:0},end:{line:9,column:40}},"6":{start:{line:10,column:17},end:{line:10,column:36}},"7":{start:{line:11,column:16},end:{line:11,column:42}},"8":{start:{line:13,column:19},end:{line:13,column:44}},"9":{start:{line:14,column:19},end:{line:14,column:44}},"10":{start:{line:15,column:19},end:{line:15,column:44}},"11":{start:{line:16,column:20},end:{line:16,column:46}},"12":{start:{line:17,column:25},end:{line:17,column:56}},"13":{start:{line:19,column:10},end:{line:19,column:19}},"14":{start:{line:22,column:0},end:{line:22,column:39}},"15":{start:{line:25,column:0},end:{line:25,column:49}},"16":{start:{line:27,column:0},end:{line:27,column:24}},"17":{start:{line:30,column:0},end:{line:34,column:2}},"18":{start:{line:37,column:0},end:{line:40,column:3}},"19":{start:{line:43,column:0},end:{line:50,column:2}},"20":{start:{line:53,column:0},end:{line:53,column:31}},"21":{start:{line:54,column:0},end:{line:54,column:28}},"22":{start:{line:57,column:0},end:{line:59,column:3}},"23":{start:{line:58,column:4},end:{line:58,column:47}},"24":{start:{line:60,column:0},end:{line:60,column:30}},"25":{start:{line:61,column:0},end:{line:61,column:30}},"26":{start:{line:62,column:0},end:{line:62,column:30}},"27":{start:{line:63,column:0},end:{line:63,column:32}},"28":{start:{line:64,column:0},end:{line:64,column:42}},"29":{start:{line:67,column:13},end:{line:67,column:37}},"30":{start:{line:68,column:0},end:{line:68,column:60}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:57,column:13},end:{line:57,column:14}},loc:{start:{line:57,column:27},end:{line:59,column:1}},line:57}},branchMap:{"0":{loc:{start:{line:67,column:13},end:{line:67,column:37}},type:"binary-expr",locations:[{start:{line:67,column:13},end:{line:67,column:29}},{start:{line:67,column:33},end:{line:67,column:37}}],line:67}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"eb5c2d939cbc65277c3ddd99be14d1e63ac01508"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_sx5ei3ogs=function(){return actualCoverage;};}return actualCoverage;}cov_sx5ei3ogs();/* -------------------------------------------------------------------------- */ /*                                    SetUp                                   */ /* -------------------------------------------------------------------------- */const express=(cov_sx5ei3ogs().s[0]++,require("express"));const path=(cov_sx5ei3ogs().s[1]++,require("path"));cov_sx5ei3ogs().s[2]++;require("dotenv").config();const cors=(cov_sx5ei3ogs().s[3]++,require("cors"));const mongoose=(cov_sx5ei3ogs().s[4]++,require("mongoose"));cov_sx5ei3ogs().s[5]++;mongoose.set("useFindAndModify",false);const passport=(cov_sx5ei3ogs().s[6]++,require("passport"));const session=(cov_sx5ei3ogs().s[7]++,require("express-session"));const userRoutes=(cov_sx5ei3ogs().s[8]++,require("./routes/users"));const taskRoutes=(cov_sx5ei3ogs().s[9]++,require("./routes/tasks"));const goalRoutes=(cov_sx5ei3ogs().s[10]++,require("./routes/goals"));const eventRoutes=(cov_sx5ei3ogs().s[11]++,require("./routes/events"));const preferenceRoutes=(cov_sx5ei3ogs().s[12]++,require("./routes/preferences"));let app=(cov_sx5ei3ogs().s[13]++,express());// Passport Config
cov_sx5ei3ogs().s[14]++;require("./config/passport")(passport);// Express Body Parser
cov_sx5ei3ogs().s[15]++;app.use(express.urlencoded({extended:false}));cov_sx5ei3ogs().s[16]++;app.use(express.json());// Cors
cov_sx5ei3ogs().s[17]++;app.use(cors({origin:["http://localhost:3000"]}));// Database
cov_sx5ei3ogs().s[18]++;mongoose.connect(process.env.MONGODB_URI,{useNewUrlParser:true,useUnifiedTopology:true});// Express session
cov_sx5ei3ogs().s[19]++;app.use(session({secret:"secret",// TODO -  MAKE THIS A LEGIT AND HIDDEN SECRET
resave:true,saveUninitialized:true// cookie: { secure: true }, // TODO - ALLOW ONCE WEBSITE IS HTTPS
}));// Passport middleware
cov_sx5ei3ogs().s[20]++;app.use(passport.initialize());cov_sx5ei3ogs().s[21]++;app.use(passport.session());// Routes
cov_sx5ei3ogs().s[22]++;app.get("/",(req,res)=>{cov_sx5ei3ogs().f[0]++;cov_sx5ei3ogs().s[23]++;res.status(200).send("server is running!");});cov_sx5ei3ogs().s[24]++;app.use("/users",userRoutes);cov_sx5ei3ogs().s[25]++;app.use("/tasks",taskRoutes);cov_sx5ei3ogs().s[26]++;app.use("/goals",goalRoutes);cov_sx5ei3ogs().s[27]++;app.use("/events",eventRoutes);cov_sx5ei3ogs().s[28]++;app.use("/preferences",preferenceRoutes);// Server Start
const PORT=(cov_sx5ei3ogs().s[29]++,(cov_sx5ei3ogs().b[0][0]++,process.env.PORT)||(cov_sx5ei3ogs().b[0][1]++,8080));cov_sx5ei3ogs().s[30]++;app.listen(PORT,console.log(`Listening on PORT: ${PORT}`));// MONGODB
// startServer = async (app) => {
//     await DB.establishConnection()
//         .then(() => {
//             app.listen(process.env.PORT);
//             console.log("listening...");
//         })
//         .catch((err) => {
//             console.error(err);
//             process.exit(1);
//         });
//     return app;
// };
// app = startServer(app);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInBhdGgiLCJjb25maWciLCJjb3JzIiwibW9uZ29vc2UiLCJzZXQiLCJwYXNzcG9ydCIsInNlc3Npb24iLCJ1c2VyUm91dGVzIiwidGFza1JvdXRlcyIsImdvYWxSb3V0ZXMiLCJldmVudFJvdXRlcyIsInByZWZlcmVuY2VSb3V0ZXMiLCJhcHAiLCJ1c2UiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwib3JpZ2luIiwiY29ubmVjdCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInNlY3JldCIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwiaW5pdGlhbGl6ZSIsImdldCIsInJlcSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJQT1JUIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6InExRkFlWTt5RkFmWixnRixDQUNBLGdGLENBQ0EsZ0ZBQ0EsS0FBTUEsQ0FBQUEsT0FBTyx5QkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsSUFBSSx5QkFBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBVixDQUFWLEMsdUJBQ0FBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JFLE1BQWxCLEdBQ0EsS0FBTUMsQ0FBQUEsSUFBSSx5QkFBR0gsT0FBTyxDQUFDLE1BQUQsQ0FBVixDQUFWLENBQ0EsS0FBTUksQ0FBQUEsUUFBUSx5QkFBR0osT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLEMsdUJBQ0FJLFFBQVEsQ0FBQ0MsR0FBVCxDQUFhLGtCQUFiLENBQWlDLEtBQWpDLEVBQ0EsS0FBTUMsQ0FBQUEsUUFBUSx5QkFBR04sT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLENBQ0EsS0FBTU8sQ0FBQUEsT0FBTyx5QkFBR1AsT0FBTyxDQUFDLGlCQUFELENBQVYsQ0FBYixDQUVBLEtBQU1RLENBQUFBLFVBQVUseUJBQUdSLE9BQU8sQ0FBQyxnQkFBRCxDQUFWLENBQWhCLENBQ0EsS0FBTVMsQ0FBQUEsVUFBVSx5QkFBR1QsT0FBTyxDQUFDLGdCQUFELENBQVYsQ0FBaEIsQ0FDQSxLQUFNVSxDQUFBQSxVQUFVLDBCQUFHVixPQUFPLENBQUMsZ0JBQUQsQ0FBVixDQUFoQixDQUNBLEtBQU1XLENBQUFBLFdBQVcsMEJBQUdYLE9BQU8sQ0FBQyxpQkFBRCxDQUFWLENBQWpCLENBQ0EsS0FBTVksQ0FBQUEsZ0JBQWdCLDBCQUFHWixPQUFPLENBQUMsc0JBQUQsQ0FBVixDQUF0QixDQUVBLEdBQUlhLENBQUFBLEdBQUcsMEJBQUdkLE9BQU8sRUFBVixDQUFQLENBRUE7d0JBQ0FDLE9BQU8sQ0FBQyxtQkFBRCxDQUFQLENBQTZCTSxRQUE3QixFQUVBO3dCQUNBTyxHQUFHLENBQUNDLEdBQUosQ0FBUWYsT0FBTyxDQUFDZ0IsVUFBUixDQUFtQixDQUFFQyxRQUFRLENBQUUsS0FBWixDQUFuQixDQUFSLEUsd0JBRUFILEdBQUcsQ0FBQ0MsR0FBSixDQUFRZixPQUFPLENBQUNrQixJQUFSLEVBQVIsRUFFQTt3QkFDQUosR0FBRyxDQUFDQyxHQUFKLENBQ0lYLElBQUksQ0FBQyxDQUNEZSxNQUFNLENBQUUsQ0FBQyx1QkFBRCxDQURQLENBQUQsQ0FEUixFQU1BO3dCQUNBZCxRQUFRLENBQUNlLE9BQVQsQ0FBaUJDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUE3QixDQUEwQyxDQUN0Q0MsZUFBZSxDQUFFLElBRHFCLENBRXRDQyxrQkFBa0IsQ0FBRSxJQUZrQixDQUExQyxFQUtBO3dCQUNBWCxHQUFHLENBQUNDLEdBQUosQ0FDSVAsT0FBTyxDQUFDLENBQ0prQixNQUFNLENBQUUsUUFESixDQUNjO0FBQ2xCQyxNQUFNLENBQUUsSUFGSixDQUdKQyxpQkFBaUIsQ0FBRSxJQUNuQjtBQUpJLENBQUQsQ0FEWCxFQVNBO3dCQUNBZCxHQUFHLENBQUNDLEdBQUosQ0FBUVIsUUFBUSxDQUFDc0IsVUFBVCxFQUFSLEUsd0JBQ0FmLEdBQUcsQ0FBQ0MsR0FBSixDQUFRUixRQUFRLENBQUNDLE9BQVQsRUFBUixFQUVBO3dCQUNBTSxHQUFHLENBQUNnQixHQUFKLENBQVEsR0FBUixDQUFhLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixHQUFjLGdEQUN2QkEsR0FBRyxDQUFDQyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsb0JBQXJCLEVBQ0gsQ0FGRCxFLHdCQUdBcEIsR0FBRyxDQUFDQyxHQUFKLENBQVEsUUFBUixDQUFrQk4sVUFBbEIsRSx3QkFDQUssR0FBRyxDQUFDQyxHQUFKLENBQVEsUUFBUixDQUFrQkwsVUFBbEIsRSx3QkFDQUksR0FBRyxDQUFDQyxHQUFKLENBQVEsUUFBUixDQUFrQkosVUFBbEIsRSx3QkFDQUcsR0FBRyxDQUFDQyxHQUFKLENBQVEsU0FBUixDQUFtQkgsV0FBbkIsRSx3QkFDQUUsR0FBRyxDQUFDQyxHQUFKLENBQVEsY0FBUixDQUF3QkYsZ0JBQXhCLEVBRUE7QUFDQSxLQUFNc0IsQ0FBQUEsSUFBSSwwQkFBRywyQkFBQWQsT0FBTyxDQUFDQyxHQUFSLENBQVlhLElBQVosOEJBQW9CLElBQXBCLENBQUgsQ0FBVixDLHdCQUNBckIsR0FBRyxDQUFDc0IsTUFBSixDQUFXRCxJQUFYLENBQWlCRSxPQUFPLENBQUNDLEdBQVIsQ0FBYSxzQkFBcUJILElBQUssRUFBdkMsQ0FBakIsRUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXRVcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XHJcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XHJcbmNvbnN0IGNvcnMgPSByZXF1aXJlKFwiY29yc1wiKTtcclxuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbm1vbmdvb3NlLnNldChcInVzZUZpbmRBbmRNb2RpZnlcIiwgZmFsc2UpO1xyXG5jb25zdCBwYXNzcG9ydCA9IHJlcXVpcmUoXCJwYXNzcG9ydFwiKTtcclxuY29uc3Qgc2Vzc2lvbiA9IHJlcXVpcmUoXCJleHByZXNzLXNlc3Npb25cIik7XHJcblxyXG5jb25zdCB1c2VyUm91dGVzID0gcmVxdWlyZShcIi4vcm91dGVzL3VzZXJzXCIpO1xyXG5jb25zdCB0YXNrUm91dGVzID0gcmVxdWlyZShcIi4vcm91dGVzL3Rhc2tzXCIpO1xyXG5jb25zdCBnb2FsUm91dGVzID0gcmVxdWlyZShcIi4vcm91dGVzL2dvYWxzXCIpO1xyXG5jb25zdCBldmVudFJvdXRlcyA9IHJlcXVpcmUoXCIuL3JvdXRlcy9ldmVudHNcIik7XHJcbmNvbnN0IHByZWZlcmVuY2VSb3V0ZXMgPSByZXF1aXJlKFwiLi9yb3V0ZXMvcHJlZmVyZW5jZXNcIik7XHJcblxyXG5sZXQgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuLy8gUGFzc3BvcnQgQ29uZmlnXHJcbnJlcXVpcmUoXCIuL2NvbmZpZy9wYXNzcG9ydFwiKShwYXNzcG9ydCk7XHJcblxyXG4vLyBFeHByZXNzIEJvZHkgUGFyc2VyXHJcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcclxuXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5cclxuLy8gQ29yc1xyXG5hcHAudXNlKFxyXG4gICAgY29ycyh7XHJcbiAgICAgICAgb3JpZ2luOiBbXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIl0sXHJcbiAgICB9KVxyXG4pO1xyXG5cclxuLy8gRGF0YWJhc2VcclxubW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT0RCX1VSSSwge1xyXG4gICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxyXG59KTtcclxuXHJcbi8vIEV4cHJlc3Mgc2Vzc2lvblxyXG5hcHAudXNlKFxyXG4gICAgc2Vzc2lvbih7XHJcbiAgICAgICAgc2VjcmV0OiBcInNlY3JldFwiLCAvLyBUT0RPIC0gIE1BS0UgVEhJUyBBIExFR0lUIEFORCBISURERU4gU0VDUkVUXHJcbiAgICAgICAgcmVzYXZlOiB0cnVlLFxyXG4gICAgICAgIHNhdmVVbmluaXRpYWxpemVkOiB0cnVlLFxyXG4gICAgICAgIC8vIGNvb2tpZTogeyBzZWN1cmU6IHRydWUgfSwgLy8gVE9ETyAtIEFMTE9XIE9OQ0UgV0VCU0lURSBJUyBIVFRQU1xyXG4gICAgfSlcclxuKTtcclxuXHJcbi8vIFBhc3Nwb3J0IG1pZGRsZXdhcmVcclxuYXBwLnVzZShwYXNzcG9ydC5pbml0aWFsaXplKCkpO1xyXG5hcHAudXNlKHBhc3Nwb3J0LnNlc3Npb24oKSk7XHJcblxyXG4vLyBSb3V0ZXNcclxuYXBwLmdldChcIi9cIiwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChcInNlcnZlciBpcyBydW5uaW5nIVwiKTtcclxufSk7XHJcbmFwcC51c2UoXCIvdXNlcnNcIiwgdXNlclJvdXRlcyk7XHJcbmFwcC51c2UoXCIvdGFza3NcIiwgdGFza1JvdXRlcyk7XHJcbmFwcC51c2UoXCIvZ29hbHNcIiwgZ29hbFJvdXRlcyk7XHJcbmFwcC51c2UoXCIvZXZlbnRzXCIsIGV2ZW50Um91dGVzKTtcclxuYXBwLnVzZShcIi9wcmVmZXJlbmNlc1wiLCBwcmVmZXJlbmNlUm91dGVzKTtcclxuXHJcbi8vIFNlcnZlciBTdGFydFxyXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCA4MDgwO1xyXG5hcHAubGlzdGVuKFBPUlQsIGNvbnNvbGUubG9nKGBMaXN0ZW5pbmcgb24gUE9SVDogJHtQT1JUfWApKTtcclxuXHJcbi8vIE1PTkdPREJcclxuLy8gc3RhcnRTZXJ2ZXIgPSBhc3luYyAoYXBwKSA9PiB7XHJcbi8vICAgICBhd2FpdCBEQi5lc3RhYmxpc2hDb25uZWN0aW9uKClcclxuLy8gICAgICAgICAudGhlbigoKSA9PiB7XHJcbi8vICAgICAgICAgICAgIGFwcC5saXN0ZW4ocHJvY2Vzcy5lbnYuUE9SVCk7XHJcbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibGlzdGVuaW5nLi4uXCIpO1xyXG4vLyAgICAgICAgIH0pXHJcbi8vICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuLy8gICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gYXBwO1xyXG4vLyB9O1xyXG4vLyBhcHAgPSBzdGFydFNlcnZlcihhcHApO1xyXG4iXX0=