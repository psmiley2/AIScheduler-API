function cov_sx5ei3ogs(){var path="C:\\Users\\peter\\Desktop\\Files\\perhail\\server\\api.js";var hash="b945417f5f7351c383f4ef9dc141419627e46020";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\peter\\Desktop\\Files\\perhail\\server\\api.js",statementMap:{"0":{start:{line:4,column:16},end:{line:4,column:34}},"1":{start:{line:5,column:13},end:{line:5,column:28}},"2":{start:{line:6,column:19},end:{line:6,column:41}},"3":{start:{line:7,column:0},end:{line:7,column:27}},"4":{start:{line:8,column:15},end:{line:8,column:42}},"5":{start:{line:9,column:10},end:{line:9,column:19}},"6":{start:{line:10,column:11},end:{line:10,column:66}},"7":{start:{line:11,column:13},end:{line:11,column:28}},"8":{start:{line:12,column:19},end:{line:12,column:44}},"9":{start:{line:13,column:19},end:{line:13,column:44}},"10":{start:{line:15,column:0},end:{line:15,column:52}},"11":{start:{line:16,column:0},end:{line:16,column:24}},"12":{start:{line:17,column:0},end:{line:21,column:2}},"13":{start:{line:23,column:0},end:{line:23,column:30}},"14":{start:{line:24,column:0},end:{line:24,column:30}},"15":{start:{line:29,column:0},end:{line:31,column:3}},"16":{start:{line:30,column:4},end:{line:30,column:47}},"17":{start:{line:43,column:0},end:{line:77,column:3}},"18":{start:{line:44,column:17},end:{line:44,column:34}},"19":{start:{line:45,column:15},end:{line:45,column:18}},"20":{start:{line:46,column:4},end:{line:49,column:5}},"21":{start:{line:47,column:8},end:{line:47,column:79}},"22":{start:{line:48,column:8},end:{line:48,column:15}},"23":{start:{line:50,column:4},end:{line:50,column:34}},"24":{start:{line:51,column:15},end:{line:57,column:5}},"25":{start:{line:59,column:4},end:{line:67,column:44}},"26":{start:{line:61,column:12},end:{line:65,column:13}},"27":{start:{line:62,column:16},end:{line:62,column:27}},"28":{start:{line:64,column:16},end:{line:64,column:27}},"29":{start:{line:67,column:24},end:{line:67,column:42}},"30":{start:{line:68,column:4},end:{line:76,column:5}},"31":{start:{line:69,column:8},end:{line:69,column:36}},"32":{start:{line:70,column:11},end:{line:76,column:5}},"33":{start:{line:71,column:8},end:{line:73,column:10}},"34":{start:{line:75,column:8},end:{line:75,column:49}},"35":{start:{line:82,column:0},end:{line:109,column:3}},"36":{start:{line:83,column:17},end:{line:83,column:34}},"37":{start:{line:84,column:15},end:{line:84,column:18}},"38":{start:{line:85,column:16},end:{line:85,column:18}},"39":{start:{line:86,column:4},end:{line:89,column:5}},"40":{start:{line:87,column:8},end:{line:87,column:79}},"41":{start:{line:88,column:8},end:{line:88,column:15}},"42":{start:{line:90,column:4},end:{line:90,column:34}},"43":{start:{line:92,column:4},end:{line:100,column:11}},"44":{start:{line:94,column:12},end:{line:94,column:24}},"45":{start:{line:95,column:12},end:{line:95,column:35}},"46":{start:{line:98,column:12},end:{line:98,column:31}},"47":{start:{line:99,column:12},end:{line:99,column:23}},"48":{start:{line:102,column:4},end:{line:108,column:5}},"49":{start:{line:103,column:8},end:{line:103,column:37}},"50":{start:{line:105,column:8},end:{line:107,column:10}},"51":{start:{line:114,column:0},end:{line:141,column:3}},"52":{start:{line:115,column:17},end:{line:115,column:34}},"53":{start:{line:116,column:15},end:{line:116,column:18}},"54":{start:{line:117,column:16},end:{line:117,column:18}},"55":{start:{line:118,column:4},end:{line:121,column:5}},"56":{start:{line:119,column:8},end:{line:119,column:79}},"57":{start:{line:120,column:8},end:{line:120,column:15}},"58":{start:{line:122,column:4},end:{line:122,column:34}},"59":{start:{line:124,column:4},end:{line:132,column:11}},"60":{start:{line:126,column:12},end:{line:126,column:24}},"61":{start:{line:127,column:12},end:{line:127,column:35}},"62":{start:{line:130,column:12},end:{line:130,column:31}},"63":{start:{line:131,column:12},end:{line:131,column:23}},"64":{start:{line:134,column:4},end:{line:140,column:5}},"65":{start:{line:135,column:8},end:{line:135,column:37}},"66":{start:{line:137,column:8},end:{line:139,column:10}},"67":{start:{line:146,column:0},end:{line:178,column:3}},"68":{start:{line:147,column:17},end:{line:147,column:34}},"69":{start:{line:148,column:17},end:{line:148,column:34}},"70":{start:{line:149,column:15},end:{line:149,column:18}},"71":{start:{line:150,column:15},end:{line:150,column:17}},"72":{start:{line:151,column:4},end:{line:154,column:5}},"73":{start:{line:152,column:8},end:{line:152,column:79}},"74":{start:{line:153,column:8},end:{line:153,column:15}},"75":{start:{line:155,column:4},end:{line:158,column:5}},"76":{start:{line:156,column:8},end:{line:156,column:79}},"77":{start:{line:157,column:8},end:{line:157,column:15}},"78":{start:{line:159,column:4},end:{line:159,column:34}},"79":{start:{line:161,column:4},end:{line:169,column:11}},"80":{start:{line:163,column:12},end:{line:163,column:23}},"81":{start:{line:164,column:12},end:{line:164,column:35}},"82":{start:{line:167,column:12},end:{line:167,column:31}},"83":{start:{line:168,column:12},end:{line:168,column:23}},"84":{start:{line:171,column:4},end:{line:177,column:5}},"85":{start:{line:172,column:8},end:{line:172,column:36}},"86":{start:{line:174,column:8},end:{line:176,column:10}},"87":{start:{line:188,column:0},end:{line:219,column:3}},"88":{start:{line:189,column:17},end:{line:189,column:34}},"89":{start:{line:190,column:15},end:{line:190,column:18}},"90":{start:{line:191,column:4},end:{line:194,column:5}},"91":{start:{line:192,column:8},end:{line:192,column:79}},"92":{start:{line:193,column:8},end:{line:193,column:15}},"93":{start:{line:195,column:4},end:{line:195,column:34}},"94":{start:{line:196,column:21},end:{line:199,column:5}},"95":{start:{line:201,column:4},end:{line:209,column:44}},"96":{start:{line:203,column:12},end:{line:207,column:13}},"97":{start:{line:204,column:16},end:{line:204,column:27}},"98":{start:{line:206,column:16},end:{line:206,column:27}},"99":{start:{line:209,column:24},end:{line:209,column:42}},"100":{start:{line:210,column:4},end:{line:218,column:5}},"101":{start:{line:211,column:8},end:{line:211,column:42}},"102":{start:{line:212,column:11},end:{line:218,column:5}},"103":{start:{line:213,column:8},end:{line:215,column:10}},"104":{start:{line:217,column:8},end:{line:217,column:49}},"105":{start:{line:224,column:0},end:{line:251,column:3}},"106":{start:{line:225,column:17},end:{line:225,column:34}},"107":{start:{line:226,column:15},end:{line:226,column:18}},"108":{start:{line:227,column:22},end:{line:227,column:24}},"109":{start:{line:228,column:4},end:{line:231,column:5}},"110":{start:{line:229,column:8},end:{line:229,column:79}},"111":{start:{line:230,column:8},end:{line:230,column:15}},"112":{start:{line:232,column:4},end:{line:232,column:34}},"113":{start:{line:234,column:4},end:{line:242,column:11}},"114":{start:{line:236,column:12},end:{line:236,column:30}},"115":{start:{line:237,column:12},end:{line:237,column:35}},"116":{start:{line:240,column:12},end:{line:240,column:31}},"117":{start:{line:241,column:12},end:{line:241,column:23}},"118":{start:{line:244,column:4},end:{line:250,column:5}},"119":{start:{line:245,column:8},end:{line:245,column:43}},"120":{start:{line:247,column:8},end:{line:249,column:10}},"121":{start:{line:256,column:0},end:{line:290,column:3}},"122":{start:{line:257,column:17},end:{line:257,column:34}},"123":{start:{line:258,column:23},end:{line:258,column:46}},"124":{start:{line:259,column:15},end:{line:259,column:18}},"125":{start:{line:260,column:21},end:{line:260,column:23}},"126":{start:{line:261,column:4},end:{line:264,column:5}},"127":{start:{line:262,column:8},end:{line:262,column:79}},"128":{start:{line:263,column:8},end:{line:263,column:15}},"129":{start:{line:265,column:4},end:{line:270,column:5}},"130":{start:{line:266,column:8},end:{line:268,column:10}},"131":{start:{line:269,column:8},end:{line:269,column:15}},"132":{start:{line:271,column:4},end:{line:271,column:34}},"133":{start:{line:273,column:4},end:{line:281,column:11}},"134":{start:{line:275,column:12},end:{line:275,column:29}},"135":{start:{line:276,column:12},end:{line:276,column:35}},"136":{start:{line:279,column:12},end:{line:279,column:31}},"137":{start:{line:280,column:12},end:{line:280,column:23}},"138":{start:{line:283,column:4},end:{line:289,column:5}},"139":{start:{line:284,column:8},end:{line:284,column:42}},"140":{start:{line:286,column:8},end:{line:288,column:10}},"141":{start:{line:300,column:0},end:{line:332,column:3}},"142":{start:{line:301,column:17},end:{line:301,column:34}},"143":{start:{line:302,column:15},end:{line:302,column:18}},"144":{start:{line:303,column:4},end:{line:306,column:5}},"145":{start:{line:304,column:8},end:{line:304,column:79}},"146":{start:{line:305,column:8},end:{line:305,column:15}},"147":{start:{line:307,column:4},end:{line:307,column:34}},"148":{start:{line:308,column:16},end:{line:312,column:5}},"149":{start:{line:314,column:4},end:{line:322,column:44}},"150":{start:{line:316,column:12},end:{line:320,column:13}},"151":{start:{line:317,column:16},end:{line:317,column:27}},"152":{start:{line:319,column:16},end:{line:319,column:27}},"153":{start:{line:322,column:24},end:{line:322,column:42}},"154":{start:{line:323,column:4},end:{line:331,column:5}},"155":{start:{line:324,column:8},end:{line:324,column:37}},"156":{start:{line:325,column:11},end:{line:331,column:5}},"157":{start:{line:326,column:8},end:{line:328,column:10}},"158":{start:{line:330,column:8},end:{line:330,column:49}},"159":{start:{line:337,column:0},end:{line:364,column:3}},"160":{start:{line:338,column:17},end:{line:338,column:34}},"161":{start:{line:339,column:15},end:{line:339,column:18}},"162":{start:{line:340,column:17},end:{line:340,column:19}},"163":{start:{line:341,column:4},end:{line:344,column:5}},"164":{start:{line:342,column:8},end:{line:342,column:79}},"165":{start:{line:343,column:8},end:{line:343,column:15}},"166":{start:{line:345,column:4},end:{line:345,column:34}},"167":{start:{line:347,column:4},end:{line:355,column:11}},"168":{start:{line:349,column:12},end:{line:349,column:25}},"169":{start:{line:350,column:12},end:{line:350,column:35}},"170":{start:{line:353,column:12},end:{line:353,column:31}},"171":{start:{line:354,column:12},end:{line:354,column:23}},"172":{start:{line:357,column:4},end:{line:363,column:5}},"173":{start:{line:358,column:8},end:{line:358,column:38}},"174":{start:{line:360,column:8},end:{line:362,column:10}},"175":{start:{line:369,column:0},end:{line:403,column:3}},"176":{start:{line:370,column:17},end:{line:370,column:34}},"177":{start:{line:371,column:18},end:{line:371,column:36}},"178":{start:{line:372,column:15},end:{line:372,column:18}},"179":{start:{line:373,column:16},end:{line:373,column:18}},"180":{start:{line:374,column:4},end:{line:377,column:5}},"181":{start:{line:375,column:8},end:{line:375,column:79}},"182":{start:{line:376,column:8},end:{line:376,column:15}},"183":{start:{line:378,column:4},end:{line:383,column:5}},"184":{start:{line:379,column:8},end:{line:381,column:10}},"185":{start:{line:382,column:8},end:{line:382,column:15}},"186":{start:{line:384,column:4},end:{line:384,column:34}},"187":{start:{line:386,column:4},end:{line:394,column:11}},"188":{start:{line:388,column:12},end:{line:388,column:24}},"189":{start:{line:389,column:12},end:{line:389,column:35}},"190":{start:{line:392,column:12},end:{line:392,column:31}},"191":{start:{line:393,column:12},end:{line:393,column:23}},"192":{start:{line:396,column:4},end:{line:402,column:5}},"193":{start:{line:397,column:8},end:{line:397,column:37}},"194":{start:{line:399,column:8},end:{line:401,column:10}},"195":{start:{line:422,column:0},end:{line:433,column:2}},"196":{start:{line:423,column:4},end:{line:431,column:11}},"197":{start:{line:425,column:12},end:{line:425,column:41}},"198":{start:{line:426,column:12},end:{line:426,column:40}},"199":{start:{line:429,column:12},end:{line:429,column:31}},"200":{start:{line:430,column:12},end:{line:430,column:28}},"201":{start:{line:432,column:4},end:{line:432,column:15}},"202":{start:{line:437,column:0},end:{line:443,column:2}},"203":{start:{line:438,column:4},end:{line:440,column:5}},"204":{start:{line:439,column:8},end:{line:439,column:21}},"205":{start:{line:441,column:4},end:{line:441,column:16}},"206":{start:{line:445,column:0},end:{line:445,column:23}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:29,column:13},end:{line:29,column:14}},loc:{start:{line:29,column:27},end:{line:31,column:1}},line:29},"1":{name:"(anonymous_1)",decl:{start:{line:43,column:27},end:{line:43,column:28}},loc:{start:{line:43,column:47},end:{line:77,column:1}},line:43},"2":{name:"(anonymous_2)",decl:{start:{line:60,column:14},end:{line:60,column:15}},loc:{start:{line:60,column:23},end:{line:66,column:9}},line:60},"3":{name:"(anonymous_3)",decl:{start:{line:67,column:15},end:{line:67,column:16}},loc:{start:{line:67,column:24},end:{line:67,column:42}},line:67},"4":{name:"(anonymous_4)",decl:{start:{line:82,column:26},end:{line:82,column:27}},loc:{start:{line:82,column:46},end:{line:109,column:1}},line:82},"5":{name:"(anonymous_5)",decl:{start:{line:93,column:14},end:{line:93,column:15}},loc:{start:{line:93,column:23},end:{line:96,column:9}},line:93},"6":{name:"(anonymous_6)",decl:{start:{line:97,column:15},end:{line:97,column:16}},loc:{start:{line:97,column:24},end:{line:100,column:9}},line:97},"7":{name:"(anonymous_7)",decl:{start:{line:114,column:26},end:{line:114,column:27}},loc:{start:{line:114,column:46},end:{line:141,column:1}},line:114},"8":{name:"(anonymous_8)",decl:{start:{line:125,column:14},end:{line:125,column:15}},loc:{start:{line:125,column:23},end:{line:128,column:9}},line:125},"9":{name:"(anonymous_9)",decl:{start:{line:129,column:15},end:{line:129,column:16}},loc:{start:{line:129,column:24},end:{line:132,column:9}},line:129},"10":{name:"(anonymous_10)",decl:{start:{line:146,column:34},end:{line:146,column:35}},loc:{start:{line:146,column:54},end:{line:178,column:1}},line:146},"11":{name:"(anonymous_11)",decl:{start:{line:162,column:14},end:{line:162,column:15}},loc:{start:{line:162,column:23},end:{line:165,column:9}},line:162},"12":{name:"(anonymous_12)",decl:{start:{line:166,column:15},end:{line:166,column:16}},loc:{start:{line:166,column:24},end:{line:169,column:9}},line:166},"13":{name:"(anonymous_13)",decl:{start:{line:188,column:33},end:{line:188,column:34}},loc:{start:{line:188,column:53},end:{line:219,column:1}},line:188},"14":{name:"(anonymous_14)",decl:{start:{line:202,column:14},end:{line:202,column:15}},loc:{start:{line:202,column:23},end:{line:208,column:9}},line:202},"15":{name:"(anonymous_15)",decl:{start:{line:209,column:15},end:{line:209,column:16}},loc:{start:{line:209,column:24},end:{line:209,column:42}},line:209},"16":{name:"(anonymous_16)",decl:{start:{line:224,column:32},end:{line:224,column:33}},loc:{start:{line:224,column:52},end:{line:251,column:1}},line:224},"17":{name:"(anonymous_17)",decl:{start:{line:235,column:14},end:{line:235,column:15}},loc:{start:{line:235,column:23},end:{line:238,column:9}},line:235},"18":{name:"(anonymous_18)",decl:{start:{line:239,column:15},end:{line:239,column:16}},loc:{start:{line:239,column:24},end:{line:242,column:9}},line:239},"19":{name:"(anonymous_19)",decl:{start:{line:256,column:46},end:{line:256,column:47}},loc:{start:{line:256,column:66},end:{line:290,column:1}},line:256},"20":{name:"(anonymous_20)",decl:{start:{line:274,column:14},end:{line:274,column:15}},loc:{start:{line:274,column:23},end:{line:277,column:9}},line:274},"21":{name:"(anonymous_21)",decl:{start:{line:278,column:15},end:{line:278,column:16}},loc:{start:{line:278,column:24},end:{line:281,column:9}},line:278},"22":{name:"(anonymous_22)",decl:{start:{line:300,column:28},end:{line:300,column:29}},loc:{start:{line:300,column:48},end:{line:332,column:1}},line:300},"23":{name:"(anonymous_23)",decl:{start:{line:315,column:14},end:{line:315,column:15}},loc:{start:{line:315,column:23},end:{line:321,column:9}},line:315},"24":{name:"(anonymous_24)",decl:{start:{line:322,column:15},end:{line:322,column:16}},loc:{start:{line:322,column:24},end:{line:322,column:42}},line:322},"25":{name:"(anonymous_25)",decl:{start:{line:337,column:27},end:{line:337,column:28}},loc:{start:{line:337,column:47},end:{line:364,column:1}},line:337},"26":{name:"(anonymous_26)",decl:{start:{line:348,column:14},end:{line:348,column:15}},loc:{start:{line:348,column:23},end:{line:351,column:9}},line:348},"27":{name:"(anonymous_27)",decl:{start:{line:352,column:15},end:{line:352,column:16}},loc:{start:{line:352,column:24},end:{line:355,column:9}},line:352},"28":{name:"(anonymous_28)",decl:{start:{line:369,column:36},end:{line:369,column:37}},loc:{start:{line:369,column:56},end:{line:403,column:1}},line:369},"29":{name:"(anonymous_29)",decl:{start:{line:387,column:14},end:{line:387,column:15}},loc:{start:{line:387,column:23},end:{line:390,column:9}},line:387},"30":{name:"(anonymous_30)",decl:{start:{line:391,column:15},end:{line:391,column:16}},loc:{start:{line:391,column:24},end:{line:394,column:9}},line:391},"31":{name:"(anonymous_31)",decl:{start:{line:422,column:14},end:{line:422,column:15}},loc:{start:{line:422,column:29},end:{line:433,column:1}},line:422},"32":{name:"(anonymous_32)",decl:{start:{line:424,column:14},end:{line:424,column:15}},loc:{start:{line:424,column:20},end:{line:427,column:9}},line:424},"33":{name:"(anonymous_33)",decl:{start:{line:428,column:15},end:{line:428,column:16}},loc:{start:{line:428,column:24},end:{line:431,column:9}},line:428},"34":{name:"(anonymous_34)",decl:{start:{line:437,column:10},end:{line:437,column:11}},loc:{start:{line:437,column:18},end:{line:443,column:1}},line:437}},branchMap:{"0":{loc:{start:{line:46,column:4},end:{line:49,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:49,column:5}},{start:{line:46,column:4},end:{line:49,column:5}}],line:46},"1":{loc:{start:{line:61,column:12},end:{line:65,column:13}},type:"if",locations:[{start:{line:61,column:12},end:{line:65,column:13}},{start:{line:61,column:12},end:{line:65,column:13}}],line:61},"2":{loc:{start:{line:68,column:4},end:{line:76,column:5}},type:"if",locations:[{start:{line:68,column:4},end:{line:76,column:5}},{start:{line:68,column:4},end:{line:76,column:5}}],line:68},"3":{loc:{start:{line:70,column:11},end:{line:76,column:5}},type:"if",locations:[{start:{line:70,column:11},end:{line:76,column:5}},{start:{line:70,column:11},end:{line:76,column:5}}],line:70},"4":{loc:{start:{line:86,column:4},end:{line:89,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:89,column:5}},{start:{line:86,column:4},end:{line:89,column:5}}],line:86},"5":{loc:{start:{line:95,column:19},end:{line:95,column:34}},type:"cond-expr",locations:[{start:{line:95,column:25},end:{line:95,column:28}},{start:{line:95,column:31},end:{line:95,column:34}}],line:95},"6":{loc:{start:{line:102,column:4},end:{line:108,column:5}},type:"if",locations:[{start:{line:102,column:4},end:{line:108,column:5}},{start:{line:102,column:4},end:{line:108,column:5}}],line:102},"7":{loc:{start:{line:118,column:4},end:{line:121,column:5}},type:"if",locations:[{start:{line:118,column:4},end:{line:121,column:5}},{start:{line:118,column:4},end:{line:121,column:5}}],line:118},"8":{loc:{start:{line:127,column:19},end:{line:127,column:34}},type:"cond-expr",locations:[{start:{line:127,column:25},end:{line:127,column:28}},{start:{line:127,column:31},end:{line:127,column:34}}],line:127},"9":{loc:{start:{line:134,column:4},end:{line:140,column:5}},type:"if",locations:[{start:{line:134,column:4},end:{line:140,column:5}},{start:{line:134,column:4},end:{line:140,column:5}}],line:134},"10":{loc:{start:{line:151,column:4},end:{line:154,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:154,column:5}},{start:{line:151,column:4},end:{line:154,column:5}}],line:151},"11":{loc:{start:{line:155,column:4},end:{line:158,column:5}},type:"if",locations:[{start:{line:155,column:4},end:{line:158,column:5}},{start:{line:155,column:4},end:{line:158,column:5}}],line:155},"12":{loc:{start:{line:164,column:19},end:{line:164,column:34}},type:"cond-expr",locations:[{start:{line:164,column:25},end:{line:164,column:28}},{start:{line:164,column:31},end:{line:164,column:34}}],line:164},"13":{loc:{start:{line:171,column:4},end:{line:177,column:5}},type:"if",locations:[{start:{line:171,column:4},end:{line:177,column:5}},{start:{line:171,column:4},end:{line:177,column:5}}],line:171},"14":{loc:{start:{line:191,column:4},end:{line:194,column:5}},type:"if",locations:[{start:{line:191,column:4},end:{line:194,column:5}},{start:{line:191,column:4},end:{line:194,column:5}}],line:191},"15":{loc:{start:{line:203,column:12},end:{line:207,column:13}},type:"if",locations:[{start:{line:203,column:12},end:{line:207,column:13}},{start:{line:203,column:12},end:{line:207,column:13}}],line:203},"16":{loc:{start:{line:210,column:4},end:{line:218,column:5}},type:"if",locations:[{start:{line:210,column:4},end:{line:218,column:5}},{start:{line:210,column:4},end:{line:218,column:5}}],line:210},"17":{loc:{start:{line:212,column:11},end:{line:218,column:5}},type:"if",locations:[{start:{line:212,column:11},end:{line:218,column:5}},{start:{line:212,column:11},end:{line:218,column:5}}],line:212},"18":{loc:{start:{line:228,column:4},end:{line:231,column:5}},type:"if",locations:[{start:{line:228,column:4},end:{line:231,column:5}},{start:{line:228,column:4},end:{line:231,column:5}}],line:228},"19":{loc:{start:{line:237,column:19},end:{line:237,column:34}},type:"cond-expr",locations:[{start:{line:237,column:25},end:{line:237,column:28}},{start:{line:237,column:31},end:{line:237,column:34}}],line:237},"20":{loc:{start:{line:244,column:4},end:{line:250,column:5}},type:"if",locations:[{start:{line:244,column:4},end:{line:250,column:5}},{start:{line:244,column:4},end:{line:250,column:5}}],line:244},"21":{loc:{start:{line:261,column:4},end:{line:264,column:5}},type:"if",locations:[{start:{line:261,column:4},end:{line:264,column:5}},{start:{line:261,column:4},end:{line:264,column:5}}],line:261},"22":{loc:{start:{line:265,column:4},end:{line:270,column:5}},type:"if",locations:[{start:{line:265,column:4},end:{line:270,column:5}},{start:{line:265,column:4},end:{line:270,column:5}}],line:265},"23":{loc:{start:{line:276,column:19},end:{line:276,column:34}},type:"cond-expr",locations:[{start:{line:276,column:25},end:{line:276,column:28}},{start:{line:276,column:31},end:{line:276,column:34}}],line:276},"24":{loc:{start:{line:283,column:4},end:{line:289,column:5}},type:"if",locations:[{start:{line:283,column:4},end:{line:289,column:5}},{start:{line:283,column:4},end:{line:289,column:5}}],line:283},"25":{loc:{start:{line:303,column:4},end:{line:306,column:5}},type:"if",locations:[{start:{line:303,column:4},end:{line:306,column:5}},{start:{line:303,column:4},end:{line:306,column:5}}],line:303},"26":{loc:{start:{line:316,column:12},end:{line:320,column:13}},type:"if",locations:[{start:{line:316,column:12},end:{line:320,column:13}},{start:{line:316,column:12},end:{line:320,column:13}}],line:316},"27":{loc:{start:{line:323,column:4},end:{line:331,column:5}},type:"if",locations:[{start:{line:323,column:4},end:{line:331,column:5}},{start:{line:323,column:4},end:{line:331,column:5}}],line:323},"28":{loc:{start:{line:325,column:11},end:{line:331,column:5}},type:"if",locations:[{start:{line:325,column:11},end:{line:331,column:5}},{start:{line:325,column:11},end:{line:331,column:5}}],line:325},"29":{loc:{start:{line:341,column:4},end:{line:344,column:5}},type:"if",locations:[{start:{line:341,column:4},end:{line:344,column:5}},{start:{line:341,column:4},end:{line:344,column:5}}],line:341},"30":{loc:{start:{line:350,column:19},end:{line:350,column:34}},type:"cond-expr",locations:[{start:{line:350,column:25},end:{line:350,column:28}},{start:{line:350,column:31},end:{line:350,column:34}}],line:350},"31":{loc:{start:{line:357,column:4},end:{line:363,column:5}},type:"if",locations:[{start:{line:357,column:4},end:{line:363,column:5}},{start:{line:357,column:4},end:{line:363,column:5}}],line:357},"32":{loc:{start:{line:374,column:4},end:{line:377,column:5}},type:"if",locations:[{start:{line:374,column:4},end:{line:377,column:5}},{start:{line:374,column:4},end:{line:377,column:5}}],line:374},"33":{loc:{start:{line:378,column:4},end:{line:383,column:5}},type:"if",locations:[{start:{line:378,column:4},end:{line:383,column:5}},{start:{line:378,column:4},end:{line:383,column:5}}],line:378},"34":{loc:{start:{line:389,column:19},end:{line:389,column:34}},type:"cond-expr",locations:[{start:{line:389,column:25},end:{line:389,column:28}},{start:{line:389,column:31},end:{line:389,column:34}}],line:389},"35":{loc:{start:{line:396,column:4},end:{line:402,column:5}},type:"if",locations:[{start:{line:396,column:4},end:{line:402,column:5}},{start:{line:396,column:4},end:{line:402,column:5}}],line:396},"36":{loc:{start:{line:438,column:4},end:{line:440,column:5}},type:"if",locations:[{start:{line:438,column:4},end:{line:440,column:5}},{start:{line:438,column:4},end:{line:440,column:5}}],line:438},"37":{loc:{start:{line:438,column:8},end:{line:438,column:42}},type:"binary-expr",locations:[{start:{line:438,column:8},end:{line:438,column:23}},{start:{line:438,column:27},end:{line:438,column:42}}],line:438}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b945417f5f7351c383f4ef9dc141419627e46020"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_sx5ei3ogs=function(){return actualCoverage;};}return actualCoverage;}cov_sx5ei3ogs();/* -------------------------------------------------------------------------- */ /*                                    SetUp                                   */ /* -------------------------------------------------------------------------- */const express=(cov_sx5ei3ogs().s[0]++,require("express"));const path=(cov_sx5ei3ogs().s[1]++,require("path"));const bodyParser=(cov_sx5ei3ogs().s[2]++,require("body-parser"));cov_sx5ei3ogs().s[3]++;require("dotenv").config();let ObjectID=(cov_sx5ei3ogs().s[4]++,require("mongodb").ObjectID);let app=(cov_sx5ei3ogs().s[5]++,express());const DB=(cov_sx5ei3ogs().s[6]++,require(path.join(__dirname,"modules","database.js")));const cors=(cov_sx5ei3ogs().s[7]++,require("cors"));const userRoutes=(cov_sx5ei3ogs().s[8]++,require("./routes/users"));const taskRoutes=(cov_sx5ei3ogs().s[9]++,require("./routes/tasks"));cov_sx5ei3ogs().s[10]++;app.use(bodyParser.urlencoded({extended:false}));cov_sx5ei3ogs().s[11]++;app.use(express.json());cov_sx5ei3ogs().s[12]++;app.use(cors({origin:["http://localhost:3000"]}));cov_sx5ei3ogs().s[13]++;app.use("/users",userRoutes);cov_sx5ei3ogs().s[14]++;app.use("/tasks",taskRoutes);/* -------------------------------------------------------------------------- */ /*                                  Endpoints                                 */ /* -------------------------------------------------------------------------- */cov_sx5ei3ogs().s[15]++;app.get("/",(req,res)=>{cov_sx5ei3ogs().f[0]++;cov_sx5ei3ogs().s[16]++;res.status(200).send("server is running!");});/* ----------------------------- Task Endpoints ----------------------------- */ // SECTION - TASKS
// !SECTION
/* ----------------------------- Goals Endpoint ----------------------------- */ // SECTION - GOALS
// SECTION - CREATE GOAL
// Create a new goal
cov_sx5ei3ogs().s[17]++;app.post("/goals/:userid",async(req,res)=>{cov_sx5ei3ogs().f[1]++;let userid=(cov_sx5ei3ogs().s[18]++,req.params.userid);let code=(cov_sx5ei3ogs().s[19]++,400);cov_sx5ei3ogs().s[20]++;if(!validID(userid)){cov_sx5ei3ogs().b[0][0]++;cov_sx5ei3ogs().s[21]++;res.status(code).send("a valid userid must be set as a url parameter");cov_sx5ei3ogs().s[22]++;return;}else{cov_sx5ei3ogs().b[0][1]++;}cov_sx5ei3ogs().s[23]++;userid=new ObjectID(userid);let goal=(cov_sx5ei3ogs().s[24]++,{_id:new ObjectID(),title:req.body.title,// TODO - if no title is given make it ""
priority:req.body.priority,// TODO - Set a default priority if none is given
createdOn:new Date()// TODO - Add fields (Sub goals, Progress, time since start, smart goals ect.)
});cov_sx5ei3ogs().s[25]++;await DB.insertGoal(userid,goal).then(res=>{cov_sx5ei3ogs().f[2]++;cov_sx5ei3ogs().s[26]++;if(res>=1){cov_sx5ei3ogs().b[1][0]++;cov_sx5ei3ogs().s[27]++;code=201;}else{cov_sx5ei3ogs().b[1][1]++;cov_sx5ei3ogs().s[28]++;code=400;}}).catch(err=>{cov_sx5ei3ogs().f[3]++;cov_sx5ei3ogs().s[29]++;return console.error(err);});cov_sx5ei3ogs().s[30]++;if(code==201){cov_sx5ei3ogs().b[2][0]++;cov_sx5ei3ogs().s[31]++;res.status(code).send(goal);}else{cov_sx5ei3ogs().b[2][1]++;cov_sx5ei3ogs().s[32]++;if(code==400){cov_sx5ei3ogs().b[3][0]++;cov_sx5ei3ogs().s[33]++;res.status(code).send("could not find a match in the database based on passed in ID");}else{cov_sx5ei3ogs().b[3][1]++;cov_sx5ei3ogs().s[34]++;res.status(500).send("unexpected error");}}});// !SECTION
// SECTION - FETCH ALL GOALS
// Fetch all goals
cov_sx5ei3ogs().s[35]++;app.get("/goals/:userid",async(req,res)=>{cov_sx5ei3ogs().f[4]++;let userid=(cov_sx5ei3ogs().s[36]++,req.params.userid);let code=(cov_sx5ei3ogs().s[37]++,400);let goals=(cov_sx5ei3ogs().s[38]++,[]);cov_sx5ei3ogs().s[39]++;if(!validID(userid)){cov_sx5ei3ogs().b[4][0]++;cov_sx5ei3ogs().s[40]++;res.status(code).send("a valid userid must be set as a url parameter");cov_sx5ei3ogs().s[41]++;return;}else{cov_sx5ei3ogs().b[4][1]++;}cov_sx5ei3ogs().s[42]++;userid=new ObjectID(userid);cov_sx5ei3ogs().s[43]++;await DB.fetchAllGoals(userid).then(res=>{cov_sx5ei3ogs().f[5]++;cov_sx5ei3ogs().s[44]++;goals=res;cov_sx5ei3ogs().s[45]++;code=res?(cov_sx5ei3ogs().b[5][0]++,200):(cov_sx5ei3ogs().b[5][1]++,400);}).catch(err=>{cov_sx5ei3ogs().f[6]++;cov_sx5ei3ogs().s[46]++;console.error(err);cov_sx5ei3ogs().s[47]++;code=400;});cov_sx5ei3ogs().s[48]++;if(code==200){cov_sx5ei3ogs().b[6][0]++;cov_sx5ei3ogs().s[49]++;res.status(code).send(goals);}else{cov_sx5ei3ogs().b[6][1]++;cov_sx5ei3ogs().s[50]++;res.status(code).send("Could not find a match to given userid in the DB. Or else check databse connection");}});// !SECTION
// SECTION - FETCH ALL GOALS
// Fetch all goals
cov_sx5ei3ogs().s[51]++;app.get("/goals/:userid",async(req,res)=>{cov_sx5ei3ogs().f[7]++;let userid=(cov_sx5ei3ogs().s[52]++,req.params.userid);let code=(cov_sx5ei3ogs().s[53]++,400);let goals=(cov_sx5ei3ogs().s[54]++,[]);cov_sx5ei3ogs().s[55]++;if(!validID(userid)){cov_sx5ei3ogs().b[7][0]++;cov_sx5ei3ogs().s[56]++;res.status(code).send("a valid userid must be set as a url parameter");cov_sx5ei3ogs().s[57]++;return;}else{cov_sx5ei3ogs().b[7][1]++;}cov_sx5ei3ogs().s[58]++;userid=new ObjectID(userid);cov_sx5ei3ogs().s[59]++;await DB.fetchAllGoals(userid).then(res=>{cov_sx5ei3ogs().f[8]++;cov_sx5ei3ogs().s[60]++;goals=res;cov_sx5ei3ogs().s[61]++;code=res?(cov_sx5ei3ogs().b[8][0]++,200):(cov_sx5ei3ogs().b[8][1]++,400);}).catch(err=>{cov_sx5ei3ogs().f[9]++;cov_sx5ei3ogs().s[62]++;console.error(err);cov_sx5ei3ogs().s[63]++;code=400;});cov_sx5ei3ogs().s[64]++;if(code==200){cov_sx5ei3ogs().b[9][0]++;cov_sx5ei3ogs().s[65]++;res.status(code).send(goals);}else{cov_sx5ei3ogs().b[9][1]++;cov_sx5ei3ogs().s[66]++;res.status(code).send("Could not find a match to given userid in the DB. Or else check databse connection");}});// !SECTION
// SECTION - FETCH GOAL
// Fetch a goal
cov_sx5ei3ogs().s[67]++;app.get("/goals/:userid/:goalid",async(req,res)=>{cov_sx5ei3ogs().f[10]++;let userid=(cov_sx5ei3ogs().s[68]++,req.params.userid);let goalid=(cov_sx5ei3ogs().s[69]++,req.params.goalid);let code=(cov_sx5ei3ogs().s[70]++,400);let goal=(cov_sx5ei3ogs().s[71]++,{});cov_sx5ei3ogs().s[72]++;if(!validID(userid)){cov_sx5ei3ogs().b[10][0]++;cov_sx5ei3ogs().s[73]++;res.status(code).send("a valid userid must be set as a url parameter");cov_sx5ei3ogs().s[74]++;return;}else{cov_sx5ei3ogs().b[10][1]++;}cov_sx5ei3ogs().s[75]++;if(!validID(goalid)){cov_sx5ei3ogs().b[11][0]++;cov_sx5ei3ogs().s[76]++;res.status(code).send("a valid goalid must be set as a url parameter");cov_sx5ei3ogs().s[77]++;return;}else{cov_sx5ei3ogs().b[11][1]++;}cov_sx5ei3ogs().s[78]++;userid=new ObjectID(userid);cov_sx5ei3ogs().s[79]++;await DB.fetchGoal(userid,goalid).then(res=>{cov_sx5ei3ogs().f[11]++;cov_sx5ei3ogs().s[80]++;goal=res;cov_sx5ei3ogs().s[81]++;code=res?(cov_sx5ei3ogs().b[12][0]++,200):(cov_sx5ei3ogs().b[12][1]++,400);}).catch(err=>{cov_sx5ei3ogs().f[12]++;cov_sx5ei3ogs().s[82]++;console.error(err);cov_sx5ei3ogs().s[83]++;code=400;});cov_sx5ei3ogs().s[84]++;if(code==200){cov_sx5ei3ogs().b[13][0]++;cov_sx5ei3ogs().s[85]++;res.status(code).send(goal);}else{cov_sx5ei3ogs().b[13][1]++;cov_sx5ei3ogs().s[86]++;res.status(code).send("Could not find a match to given IDs in the DB. Or else check databse connection");}});// !SECTION
// TODO - DELETE GOAL
// TODO - UPDATE GOAL
// !SECTION
/* -------------------------- Preferences Endpoint -------------------------- */ // SECTION - PREFERENCES
// SECTION - CREATE PREFERENCES
// Add a new preference
cov_sx5ei3ogs().s[87]++;app.post("/preferences/:userid",async(req,res)=>{cov_sx5ei3ogs().f[13]++;let userid=(cov_sx5ei3ogs().s[88]++,req.params.userid);let code=(cov_sx5ei3ogs().s[89]++,400);cov_sx5ei3ogs().s[90]++;if(!validID(userid)){cov_sx5ei3ogs().b[14][0]++;cov_sx5ei3ogs().s[91]++;res.status(code).send("a valid userid must be set as a url parameter");cov_sx5ei3ogs().s[92]++;return;}else{cov_sx5ei3ogs().b[14][1]++;}cov_sx5ei3ogs().s[93]++;userid=new ObjectID(userid);let preference=(cov_sx5ei3ogs().s[94]++,{_id:new ObjectID(),title:req.body.title// TODO - if no title is given make it ""
});cov_sx5ei3ogs().s[95]++;await DB.insertPreference(userid,preference).then(res=>{cov_sx5ei3ogs().f[14]++;cov_sx5ei3ogs().s[96]++;if(res>=1){cov_sx5ei3ogs().b[15][0]++;cov_sx5ei3ogs().s[97]++;code=201;}else{cov_sx5ei3ogs().b[15][1]++;cov_sx5ei3ogs().s[98]++;code=400;}}).catch(err=>{cov_sx5ei3ogs().f[15]++;cov_sx5ei3ogs().s[99]++;return console.error(err);});cov_sx5ei3ogs().s[100]++;if(code==201){cov_sx5ei3ogs().b[16][0]++;cov_sx5ei3ogs().s[101]++;res.status(code).send(preference);}else{cov_sx5ei3ogs().b[16][1]++;cov_sx5ei3ogs().s[102]++;if(code==400){cov_sx5ei3ogs().b[17][0]++;cov_sx5ei3ogs().s[103]++;res.status(code).send("could not find a match in the database based on passed in ID");}else{cov_sx5ei3ogs().b[17][1]++;cov_sx5ei3ogs().s[104]++;res.status(500).send("unexpected error");}}});// !SECTION
// SECTION - FETCH ALL PREFERENCES
// Fetch all preferences
cov_sx5ei3ogs().s[105]++;app.get("/preferences/:userid",async(req,res)=>{cov_sx5ei3ogs().f[16]++;let userid=(cov_sx5ei3ogs().s[106]++,req.params.userid);let code=(cov_sx5ei3ogs().s[107]++,400);let preferences=(cov_sx5ei3ogs().s[108]++,[]);cov_sx5ei3ogs().s[109]++;if(!validID(userid)){cov_sx5ei3ogs().b[18][0]++;cov_sx5ei3ogs().s[110]++;res.status(code).send("a valid userid must be set as a url parameter");cov_sx5ei3ogs().s[111]++;return;}else{cov_sx5ei3ogs().b[18][1]++;}cov_sx5ei3ogs().s[112]++;userid=new ObjectID(userid);cov_sx5ei3ogs().s[113]++;await DB.fetchAllPreferences(userid).then(res=>{cov_sx5ei3ogs().f[17]++;cov_sx5ei3ogs().s[114]++;preferences=res;cov_sx5ei3ogs().s[115]++;code=res?(cov_sx5ei3ogs().b[19][0]++,200):(cov_sx5ei3ogs().b[19][1]++,400);}).catch(err=>{cov_sx5ei3ogs().f[18]++;cov_sx5ei3ogs().s[116]++;console.error(err);cov_sx5ei3ogs().s[117]++;code=400;});cov_sx5ei3ogs().s[118]++;if(code==200){cov_sx5ei3ogs().b[20][0]++;cov_sx5ei3ogs().s[119]++;res.status(code).send(preferences);}else{cov_sx5ei3ogs().b[20][1]++;cov_sx5ei3ogs().s[120]++;res.status(code).send("Could not find a match to given IDs in the DB. Or else check databse connection");}});// !SECTION
// SECTION - FETCH PREFERENCE
// Fetch a preference
cov_sx5ei3ogs().s[121]++;app.get("/preferences/:userid/:preferenceid",async(req,res)=>{cov_sx5ei3ogs().f[19]++;let userid=(cov_sx5ei3ogs().s[122]++,req.params.userid);let preferenceid=(cov_sx5ei3ogs().s[123]++,req.params.preferenceid);let code=(cov_sx5ei3ogs().s[124]++,400);let preference=(cov_sx5ei3ogs().s[125]++,{});cov_sx5ei3ogs().s[126]++;if(!validID(userid)){cov_sx5ei3ogs().b[21][0]++;cov_sx5ei3ogs().s[127]++;res.status(code).send("a valid userid must be set as a url parameter");cov_sx5ei3ogs().s[128]++;return;}else{cov_sx5ei3ogs().b[21][1]++;}cov_sx5ei3ogs().s[129]++;if(!validID(preferenceid)){cov_sx5ei3ogs().b[22][0]++;cov_sx5ei3ogs().s[130]++;res.status(code).send("a valid preferenceid must be set as a url parameter");cov_sx5ei3ogs().s[131]++;return;}else{cov_sx5ei3ogs().b[22][1]++;}cov_sx5ei3ogs().s[132]++;userid=new ObjectID(userid);cov_sx5ei3ogs().s[133]++;await DB.fetchPreference(userid,preferenceid).then(res=>{cov_sx5ei3ogs().f[20]++;cov_sx5ei3ogs().s[134]++;preference=res;cov_sx5ei3ogs().s[135]++;code=res?(cov_sx5ei3ogs().b[23][0]++,200):(cov_sx5ei3ogs().b[23][1]++,400);}).catch(err=>{cov_sx5ei3ogs().f[21]++;cov_sx5ei3ogs().s[136]++;console.error(err);cov_sx5ei3ogs().s[137]++;code=400;});cov_sx5ei3ogs().s[138]++;if(code==200){cov_sx5ei3ogs().b[24][0]++;cov_sx5ei3ogs().s[139]++;res.status(code).send(preference);}else{cov_sx5ei3ogs().b[24][1]++;cov_sx5ei3ogs().s[140]++;res.status(code).send("Could not find a match to given IDs in the DB. Or else check databse connection");}});// !SECTION
// TODO - DELETE PREFERENCE
// TODO - UPDATE PREFERENCE
// !SECTION
/* ----------------------------- Events Endpoint ---------------------------- */ // SECTION - EVENTS
// SECTION - CREATE EVENTS
// Add a new event
cov_sx5ei3ogs().s[141]++;app.post("/events/:userid",async(req,res)=>{cov_sx5ei3ogs().f[22]++;let userid=(cov_sx5ei3ogs().s[142]++,req.params.userid);let code=(cov_sx5ei3ogs().s[143]++,400);cov_sx5ei3ogs().s[144]++;if(!validID(userid)){cov_sx5ei3ogs().b[25][0]++;cov_sx5ei3ogs().s[145]++;res.status(code).send("a valid userid must be set as a url parameter");cov_sx5ei3ogs().s[146]++;return;}else{cov_sx5ei3ogs().b[25][1]++;}cov_sx5ei3ogs().s[147]++;userid=new ObjectID(userid);let event=(cov_sx5ei3ogs().s[148]++,{_id:new ObjectID(),title:req.body.title// TODO - Other fields such as start time, end time, category, ect.
});cov_sx5ei3ogs().s[149]++;await DB.insertEvent(userid,event).then(res=>{cov_sx5ei3ogs().f[23]++;cov_sx5ei3ogs().s[150]++;if(res>=1){cov_sx5ei3ogs().b[26][0]++;cov_sx5ei3ogs().s[151]++;code=201;}else{cov_sx5ei3ogs().b[26][1]++;cov_sx5ei3ogs().s[152]++;code=400;}}).catch(err=>{cov_sx5ei3ogs().f[24]++;cov_sx5ei3ogs().s[153]++;return console.error(err);});cov_sx5ei3ogs().s[154]++;if(code==201){cov_sx5ei3ogs().b[27][0]++;cov_sx5ei3ogs().s[155]++;res.status(code).send(event);}else{cov_sx5ei3ogs().b[27][1]++;cov_sx5ei3ogs().s[156]++;if(code==400){cov_sx5ei3ogs().b[28][0]++;cov_sx5ei3ogs().s[157]++;res.status(code).send("could not find a match in the database based on passed in ID");}else{cov_sx5ei3ogs().b[28][1]++;cov_sx5ei3ogs().s[158]++;res.status(500).send("unexpected error");}}});// !SECTION
// SECTION - FETCH ALL EVENTS
// Fetch all events
cov_sx5ei3ogs().s[159]++;app.get("/events/:userid",async(req,res)=>{cov_sx5ei3ogs().f[25]++;let userid=(cov_sx5ei3ogs().s[160]++,req.params.userid);let code=(cov_sx5ei3ogs().s[161]++,400);let events=(cov_sx5ei3ogs().s[162]++,[]);cov_sx5ei3ogs().s[163]++;if(!validID(userid)){cov_sx5ei3ogs().b[29][0]++;cov_sx5ei3ogs().s[164]++;res.status(code).send("a valid userid must be set as a url parameter");cov_sx5ei3ogs().s[165]++;return;}else{cov_sx5ei3ogs().b[29][1]++;}cov_sx5ei3ogs().s[166]++;userid=new ObjectID(userid);cov_sx5ei3ogs().s[167]++;await DB.fetchAllEvents(userid).then(res=>{cov_sx5ei3ogs().f[26]++;cov_sx5ei3ogs().s[168]++;events=res;cov_sx5ei3ogs().s[169]++;code=res?(cov_sx5ei3ogs().b[30][0]++,200):(cov_sx5ei3ogs().b[30][1]++,400);}).catch(err=>{cov_sx5ei3ogs().f[27]++;cov_sx5ei3ogs().s[170]++;console.error(err);cov_sx5ei3ogs().s[171]++;code=400;});cov_sx5ei3ogs().s[172]++;if(code==200){cov_sx5ei3ogs().b[31][0]++;cov_sx5ei3ogs().s[173]++;res.status(code).send(events);}else{cov_sx5ei3ogs().b[31][1]++;cov_sx5ei3ogs().s[174]++;res.status(code).send("Could not find a match to given userid in the DB. Or else check databse connection");}});// !SECTION
// SECTION - FETCH EVENT
// Fetch an event
cov_sx5ei3ogs().s[175]++;app.get("/events/:userid/:eventid",async(req,res)=>{cov_sx5ei3ogs().f[28]++;let userid=(cov_sx5ei3ogs().s[176]++,req.params.userid);let eventid=(cov_sx5ei3ogs().s[177]++,req.params.eventid);let code=(cov_sx5ei3ogs().s[178]++,400);let event=(cov_sx5ei3ogs().s[179]++,{});cov_sx5ei3ogs().s[180]++;if(!validID(userid)){cov_sx5ei3ogs().b[32][0]++;cov_sx5ei3ogs().s[181]++;res.status(code).send("a valid userid must be set as a url parameter");cov_sx5ei3ogs().s[182]++;return;}else{cov_sx5ei3ogs().b[32][1]++;}cov_sx5ei3ogs().s[183]++;if(!validID(eventid)){cov_sx5ei3ogs().b[33][0]++;cov_sx5ei3ogs().s[184]++;res.status(code).send("a valid preferenceid must be set as a url parameter");cov_sx5ei3ogs().s[185]++;return;}else{cov_sx5ei3ogs().b[33][1]++;}cov_sx5ei3ogs().s[186]++;userid=new ObjectID(userid);cov_sx5ei3ogs().s[187]++;await DB.fetchEvent(userid,eventid).then(res=>{cov_sx5ei3ogs().f[29]++;cov_sx5ei3ogs().s[188]++;event=res;cov_sx5ei3ogs().s[189]++;code=res?(cov_sx5ei3ogs().b[34][0]++,200):(cov_sx5ei3ogs().b[34][1]++,400);}).catch(err=>{cov_sx5ei3ogs().f[30]++;cov_sx5ei3ogs().s[190]++;console.error(err);cov_sx5ei3ogs().s[191]++;code=400;});cov_sx5ei3ogs().s[192]++;if(code==200){cov_sx5ei3ogs().b[35][0]++;cov_sx5ei3ogs().s[193]++;res.status(code).send(event);}else{cov_sx5ei3ogs().b[35][1]++;cov_sx5ei3ogs().s[194]++;res.status(code).send("Could not find a match to given IDs in the DB. Or else check databse connection");}});// !SECTION
// TODO - DELETE EVENT
// TODO - UPDATE EVENT
// !SECTION
/* ----------------------------- Tracks Endpoint ----------------------------- */ // SECTION - TRACKS
// TODO - CREATE TRACKS LIST
// TODO - ADD TRACKS
// TODO - DELETE TRACKS
// TODO - UPDATE TRACKS
// TODO - DELETE TRACKS LIST
// TODO - FETCH TRACKS LIST
// !SECTION
/* -------------------------------------------------------------------------- */ /*                                Server Start                                */ /* -------------------------------------------------------------------------- */cov_sx5ei3ogs().s[195]++;startServer=async app=>{cov_sx5ei3ogs().f[31]++;cov_sx5ei3ogs().s[196]++;await DB.establishConnection().then(()=>{cov_sx5ei3ogs().f[32]++;cov_sx5ei3ogs().s[197]++;app.listen(process.env.PORT);cov_sx5ei3ogs().s[198]++;console.log("listening...");}).catch(err=>{cov_sx5ei3ogs().f[33]++;cov_sx5ei3ogs().s[199]++;console.error(err);cov_sx5ei3ogs().s[200]++;process.exit(1);});cov_sx5ei3ogs().s[201]++;return app;};/* -------------------------------------------------------------------------- */ /*                                    Utils                                   */ /* -------------------------------------------------------------------------- */cov_sx5ei3ogs().s[202]++;validID=id=>{cov_sx5ei3ogs().f[34]++;cov_sx5ei3ogs().s[203]++;if((cov_sx5ei3ogs().b[37][0]++,id==undefined)||(cov_sx5ei3ogs().b[37][1]++,id.length!=24)){cov_sx5ei3ogs().b[36][0]++;cov_sx5ei3ogs().s[204]++;return false;}else{cov_sx5ei3ogs().b[36][1]++;}cov_sx5ei3ogs().s[205]++;return true;// More validation
};cov_sx5ei3ogs().s[206]++;app=startServer(app);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInBhdGgiLCJib2R5UGFyc2VyIiwiY29uZmlnIiwiT2JqZWN0SUQiLCJhcHAiLCJEQiIsImpvaW4iLCJfX2Rpcm5hbWUiLCJjb3JzIiwidXNlclJvdXRlcyIsInRhc2tSb3V0ZXMiLCJ1c2UiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwib3JpZ2luIiwiZ2V0IiwicmVxIiwicmVzIiwic3RhdHVzIiwic2VuZCIsInBvc3QiLCJ1c2VyaWQiLCJwYXJhbXMiLCJjb2RlIiwidmFsaWRJRCIsImdvYWwiLCJfaWQiLCJ0aXRsZSIsImJvZHkiLCJwcmlvcml0eSIsImNyZWF0ZWRPbiIsIkRhdGUiLCJpbnNlcnRHb2FsIiwidGhlbiIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZ29hbHMiLCJmZXRjaEFsbEdvYWxzIiwiZ29hbGlkIiwiZmV0Y2hHb2FsIiwicHJlZmVyZW5jZSIsImluc2VydFByZWZlcmVuY2UiLCJwcmVmZXJlbmNlcyIsImZldGNoQWxsUHJlZmVyZW5jZXMiLCJwcmVmZXJlbmNlaWQiLCJmZXRjaFByZWZlcmVuY2UiLCJldmVudCIsImluc2VydEV2ZW50IiwiZXZlbnRzIiwiZmV0Y2hBbGxFdmVudHMiLCJldmVudGlkIiwiZmV0Y2hFdmVudCIsInN0YXJ0U2VydmVyIiwiZXN0YWJsaXNoQ29ubmVjdGlvbiIsImxpc3RlbiIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibG9nIiwiZXhpdCIsImlkIiwidW5kZWZpbmVkIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiaW8yQkFlWTt5RkFmWixnRixDQUNBLGdGLENBQ0EsZ0ZBQ0EsS0FBTUEsQ0FBQUEsT0FBTyx5QkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsSUFBSSx5QkFBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBVixDQUFWLENBQ0EsS0FBTUUsQ0FBQUEsVUFBVSx5QkFB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LE1BQU8xRCxDQUFBQSxHQUFQLENBQ0gsQ0FYRCxDQVlBLGdGLENBQ0EsZ0YsQ0FDQSxnRix5QkFDQXFCLE9BQU8sQ0FBSXNDLEVBQUQsRUFBUSxrREFDZCxHQUFJLDRCQUFBQSxFQUFFLEVBQUlDLFNBQU4sK0JBQW1CRCxFQUFFLENBQUNFLE1BQUgsRUFBYSxFQUFoQyxDQUFKLENBQXdDLHFEQUNwQyxNQUFPLE1BQVAsQ0FDSCxDQUZELGlDQURjLHlCQUlkLE1BQU8sS0FBUCxDQUNBO0FBQ0gsQ0FORCxDLHlCQVFBN0QsR0FBRyxDQUFHbUQsV0FBVyxDQUFDbkQsR0FBRCxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2V0VXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xyXG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xyXG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG5sZXQgT2JqZWN0SUQgPSByZXF1aXJlKFwibW9uZ29kYlwiKS5PYmplY3RJRDtcclxubGV0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3QgREIgPSByZXF1aXJlKHBhdGguam9pbihfX2Rpcm5hbWUsIFwibW9kdWxlc1wiLCBcImRhdGFiYXNlLmpzXCIpKTtcclxuY29uc3QgY29ycyA9IHJlcXVpcmUoXCJjb3JzXCIpO1xyXG5jb25zdCB1c2VyUm91dGVzID0gcmVxdWlyZShcIi4vcm91dGVzL3VzZXJzXCIpO1xyXG5jb25zdCB0YXNrUm91dGVzID0gcmVxdWlyZShcIi4vcm91dGVzL3Rhc2tzXCIpO1xyXG5cclxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuYXBwLnVzZShcclxuICAgIGNvcnMoe1xyXG4gICAgICAgIG9yaWdpbjogW1wiaHR0cDovL2xvY2FsaG9zdDozMDAwXCJdLFxyXG4gICAgfSlcclxuKTtcclxuXHJcbmFwcC51c2UoXCIvdXNlcnNcIiwgdXNlclJvdXRlcyk7XHJcbmFwcC51c2UoXCIvdGFza3NcIiwgdGFza1JvdXRlcyk7XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmRwb2ludHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5hcHAuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKFwic2VydmVyIGlzIHJ1bm5pbmchXCIpO1xyXG59KTtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFRhc2sgRW5kcG9pbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8vIFNFQ1RJT04gLSBUQVNLU1xyXG5cclxuLy8gIVNFQ1RJT05cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEdvYWxzIEVuZHBvaW50IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8vIFNFQ1RJT04gLSBHT0FMU1xyXG5cclxuLy8gU0VDVElPTiAtIENSRUFURSBHT0FMXHJcbi8vIENyZWF0ZSBhIG5ldyBnb2FsXHJcbmFwcC5wb3N0KFwiL2dvYWxzLzp1c2VyaWRcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgdXNlcmlkID0gcmVxLnBhcmFtcy51c2VyaWQ7XHJcbiAgICBsZXQgY29kZSA9IDQwMDtcclxuICAgIGlmICghdmFsaWRJRCh1c2VyaWQpKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKFwiYSB2YWxpZCB1c2VyaWQgbXVzdCBiZSBzZXQgYXMgYSB1cmwgcGFyYW1ldGVyXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHVzZXJpZCA9IG5ldyBPYmplY3RJRCh1c2VyaWQpO1xyXG4gICAgbGV0IGdvYWwgPSB7XHJcbiAgICAgICAgX2lkOiBuZXcgT2JqZWN0SUQoKSxcclxuICAgICAgICB0aXRsZTogcmVxLmJvZHkudGl0bGUsIC8vIFRPRE8gLSBpZiBubyB0aXRsZSBpcyBnaXZlbiBtYWtlIGl0IFwiXCJcclxuICAgICAgICBwcmlvcml0eTogcmVxLmJvZHkucHJpb3JpdHksIC8vIFRPRE8gLSBTZXQgYSBkZWZhdWx0IHByaW9yaXR5IGlmIG5vbmUgaXMgZ2l2ZW5cclxuICAgICAgICBjcmVhdGVkT246IG5ldyBEYXRlKCksXHJcbiAgICAgICAgLy8gVE9ETyAtIEFkZCBmaWVsZHMgKFN1YiBnb2FscywgUHJvZ3Jlc3MsIHRpbWUgc2luY2Ugc3RhcnQsIHNtYXJ0IGdvYWxzIGVjdC4pXHJcbiAgICB9O1xyXG5cclxuICAgIGF3YWl0IERCLmluc2VydEdvYWwodXNlcmlkLCBnb2FsKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcyA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlID0gMjAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29kZSA9IDQwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgICBpZiAoY29kZSA9PSAyMDEpIHtcclxuICAgICAgICByZXMuc3RhdHVzKGNvZGUpLnNlbmQoZ29hbCk7XHJcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT0gNDAwKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKFxyXG4gICAgICAgICAgICBcImNvdWxkIG5vdCBmaW5kIGEgbWF0Y2ggaW4gdGhlIGRhdGFiYXNlIGJhc2VkIG9uIHBhc3NlZCBpbiBJRFwiXHJcbiAgICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoXCJ1bmV4cGVjdGVkIGVycm9yXCIpO1xyXG4gICAgfVxyXG59KTtcclxuLy8gIVNFQ1RJT05cclxuXHJcbi8vIFNFQ1RJT04gLSBGRVRDSCBBTEwgR09BTFNcclxuLy8gRmV0Y2ggYWxsIGdvYWxzXHJcbmFwcC5nZXQoXCIvZ29hbHMvOnVzZXJpZFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCB1c2VyaWQgPSByZXEucGFyYW1zLnVzZXJpZDtcclxuICAgIGxldCBjb2RlID0gNDAwO1xyXG4gICAgbGV0IGdvYWxzID0gW107XHJcbiAgICBpZiAoIXZhbGlkSUQodXNlcmlkKSkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoY29kZSkuc2VuZChcImEgdmFsaWQgdXNlcmlkIG11c3QgYmUgc2V0IGFzIGEgdXJsIHBhcmFtZXRlclwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB1c2VyaWQgPSBuZXcgT2JqZWN0SUQodXNlcmlkKTtcclxuXHJcbiAgICBhd2FpdCBEQi5mZXRjaEFsbEdvYWxzKHVzZXJpZClcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGdvYWxzID0gcmVzO1xyXG4gICAgICAgICAgICBjb2RlID0gcmVzID8gMjAwIDogNDAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICBjb2RlID0gNDAwO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGlmIChjb2RlID09IDIwMCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoY29kZSkuc2VuZChnb2Fscyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoY29kZSkuc2VuZChcclxuICAgICAgICAgICAgXCJDb3VsZCBub3QgZmluZCBhIG1hdGNoIHRvIGdpdmVuIHVzZXJpZCBpbiB0aGUgREIuIE9yIGVsc2UgY2hlY2sgZGF0YWJzZSBjb25uZWN0aW9uXCJcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuLy8gIVNFQ1RJT05cclxuXHJcbi8vIFNFQ1RJT04gLSBGRVRDSCBBTEwgR09BTFNcclxuLy8gRmV0Y2ggYWxsIGdvYWxzXHJcbmFwcC5nZXQoXCIvZ29hbHMvOnVzZXJpZFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCB1c2VyaWQgPSByZXEucGFyYW1zLnVzZXJpZDtcclxuICAgIGxldCBjb2RlID0gNDAwO1xyXG4gICAgbGV0IGdvYWxzID0gW107XHJcbiAgICBpZiAoIXZhbGlkSUQodXNlcmlkKSkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoY29kZSkuc2VuZChcImEgdmFsaWQgdXNlcmlkIG11c3QgYmUgc2V0IGFzIGEgdXJsIHBhcmFtZXRlclwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB1c2VyaWQgPSBuZXcgT2JqZWN0SUQodXNlcmlkKTtcclxuXHJcbiAgICBhd2FpdCBEQi5mZXRjaEFsbEdvYWxzKHVzZXJpZClcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGdvYWxzID0gcmVzO1xyXG4gICAgICAgICAgICBjb2RlID0gcmVzID8gMjAwIDogNDAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICBjb2RlID0gNDAwO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGlmIChjb2RlID09IDIwMCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoY29kZSkuc2VuZChnb2Fscyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoY29kZSkuc2VuZChcclxuICAgICAgICAgICAgXCJDb3VsZCBub3QgZmluZCBhIG1hdGNoIHRvIGdpdmVuIHVzZXJpZCBpbiB0aGUgREIuIE9yIGVsc2UgY2hlY2sgZGF0YWJzZSBjb25uZWN0aW9uXCJcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuLy8gIVNFQ1RJT05cclxuXHJcbi8vIFNFQ1RJT04gLSBGRVRDSCBHT0FMXHJcbi8vIEZldGNoIGEgZ29hbFxyXG5hcHAuZ2V0KFwiL2dvYWxzLzp1c2VyaWQvOmdvYWxpZFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCB1c2VyaWQgPSByZXEucGFyYW1zLnVzZXJpZDtcclxuICAgIGxldCBnb2FsaWQgPSByZXEucGFyYW1zLmdvYWxpZDtcclxuICAgIGxldCBjb2RlID0gNDAwO1xyXG4gICAgbGV0IGdvYWwgPSB7fTtcclxuICAgIGlmICghdmFsaWRJRCh1c2VyaWQpKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKFwiYSB2YWxpZCB1c2VyaWQgbXVzdCBiZSBzZXQgYXMgYSB1cmwgcGFyYW1ldGVyXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghdmFsaWRJRChnb2FsaWQpKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKFwiYSB2YWxpZCBnb2FsaWQgbXVzdCBiZSBzZXQgYXMgYSB1cmwgcGFyYW1ldGVyXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHVzZXJpZCA9IG5ldyBPYmplY3RJRCh1c2VyaWQpO1xyXG5cclxuICAgIGF3YWl0IERCLmZldGNoR29hbCh1c2VyaWQsIGdvYWxpZClcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGdvYWwgPSByZXM7XHJcbiAgICAgICAgICAgIGNvZGUgPSByZXMgPyAyMDAgOiA0MDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgIGNvZGUgPSA0MDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgaWYgKGNvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKGdvYWwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKGNvZGUpLnNlbmQoXHJcbiAgICAgICAgICAgIFwiQ291bGQgbm90IGZpbmQgYSBtYXRjaCB0byBnaXZlbiBJRHMgaW4gdGhlIERCLiBPciBlbHNlIGNoZWNrIGRhdGFic2UgY29ubmVjdGlvblwiXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcbi8vICFTRUNUSU9OXHJcbi8vIFRPRE8gLSBERUxFVEUgR09BTFxyXG4vLyBUT0RPIC0gVVBEQVRFIEdPQUxcclxuLy8gIVNFQ1RJT05cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFByZWZlcmVuY2VzIEVuZHBvaW50IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8vIFNFQ1RJT04gLSBQUkVGRVJFTkNFU1xyXG4vLyBTRUNUSU9OIC0gQ1JFQVRFIFBSRUZFUkVOQ0VTXHJcbi8vIEFkZCBhIG5ldyBwcmVmZXJlbmNlXHJcbmFwcC5wb3N0KFwiL3ByZWZlcmVuY2VzLzp1c2VyaWRcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgdXNlcmlkID0gcmVxLnBhcmFtcy51c2VyaWQ7XHJcbiAgICBsZXQgY29kZSA9IDQwMDtcclxuICAgIGlmICghdmFsaWRJRCh1c2VyaWQpKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKFwiYSB2YWxpZCB1c2VyaWQgbXVzdCBiZSBzZXQgYXMgYSB1cmwgcGFyYW1ldGVyXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHVzZXJpZCA9IG5ldyBPYmplY3RJRCh1c2VyaWQpO1xyXG4gICAgbGV0IHByZWZlcmVuY2UgPSB7XHJcbiAgICAgICAgX2lkOiBuZXcgT2JqZWN0SUQoKSxcclxuICAgICAgICB0aXRsZTogcmVxLmJvZHkudGl0bGUsIC8vIFRPRE8gLSBpZiBubyB0aXRsZSBpcyBnaXZlbiBtYWtlIGl0IFwiXCJcclxuICAgIH07XHJcblxyXG4gICAgYXdhaXQgREIuaW5zZXJ0UHJlZmVyZW5jZSh1c2VyaWQsIHByZWZlcmVuY2UpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzID49IDEpIHtcclxuICAgICAgICAgICAgICAgIGNvZGUgPSAyMDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlID0gNDAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICAgIGlmIChjb2RlID09IDIwMSkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoY29kZSkuc2VuZChwcmVmZXJlbmNlKTtcclxuICAgIH0gZWxzZSBpZiAoY29kZSA9PSA0MDApIHtcclxuICAgICAgICByZXMuc3RhdHVzKGNvZGUpLnNlbmQoXHJcbiAgICAgICAgICAgIFwiY291bGQgbm90IGZpbmQgYSBtYXRjaCBpbiB0aGUgZGF0YWJhc2UgYmFzZWQgb24gcGFzc2VkIGluIElEXCJcclxuICAgICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChcInVuZXhwZWN0ZWQgZXJyb3JcIik7XHJcbiAgICB9XHJcbn0pO1xyXG4vLyAhU0VDVElPTlxyXG5cclxuLy8gU0VDVElPTiAtIEZFVENIIEFMTCBQUkVGRVJFTkNFU1xyXG4vLyBGZXRjaCBhbGwgcHJlZmVyZW5jZXNcclxuYXBwLmdldChcIi9wcmVmZXJlbmNlcy86dXNlcmlkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IHVzZXJpZCA9IHJlcS5wYXJhbXMudXNlcmlkO1xyXG4gICAgbGV0IGNvZGUgPSA0MDA7XHJcbiAgICBsZXQgcHJlZmVyZW5jZXMgPSBbXTtcclxuICAgIGlmICghdmFsaWRJRCh1c2VyaWQpKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKFwiYSB2YWxpZCB1c2VyaWQgbXVzdCBiZSBzZXQgYXMgYSB1cmwgcGFyYW1ldGVyXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHVzZXJpZCA9IG5ldyBPYmplY3RJRCh1c2VyaWQpO1xyXG5cclxuICAgIGF3YWl0IERCLmZldGNoQWxsUHJlZmVyZW5jZXModXNlcmlkKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgcHJlZmVyZW5jZXMgPSByZXM7XHJcbiAgICAgICAgICAgIGNvZGUgPSByZXMgPyAyMDAgOiA0MDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgIGNvZGUgPSA0MDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgaWYgKGNvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKHByZWZlcmVuY2VzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKFxyXG4gICAgICAgICAgICBcIkNvdWxkIG5vdCBmaW5kIGEgbWF0Y2ggdG8gZ2l2ZW4gSURzIGluIHRoZSBEQi4gT3IgZWxzZSBjaGVjayBkYXRhYnNlIGNvbm5lY3Rpb25cIlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG4vLyAhU0VDVElPTlxyXG5cclxuLy8gU0VDVElPTiAtIEZFVENIIFBSRUZFUkVOQ0VcclxuLy8gRmV0Y2ggYSBwcmVmZXJlbmNlXHJcbmFwcC5nZXQoXCIvcHJlZmVyZW5jZXMvOnVzZXJpZC86cHJlZmVyZW5jZWlkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IHVzZXJpZCA9IHJlcS5wYXJhbXMudXNlcmlkO1xyXG4gICAgbGV0IHByZWZlcmVuY2VpZCA9IHJlcS5wYXJhbXMucHJlZmVyZW5jZWlkO1xyXG4gICAgbGV0IGNvZGUgPSA0MDA7XHJcbiAgICBsZXQgcHJlZmVyZW5jZSA9IHt9O1xyXG4gICAgaWYgKCF2YWxpZElEKHVzZXJpZCkpIHtcclxuICAgICAgICByZXMuc3RhdHVzKGNvZGUpLnNlbmQoXCJhIHZhbGlkIHVzZXJpZCBtdXN0IGJlIHNldCBhcyBhIHVybCBwYXJhbWV0ZXJcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCF2YWxpZElEKHByZWZlcmVuY2VpZCkpIHtcclxuICAgICAgICByZXMuc3RhdHVzKGNvZGUpLnNlbmQoXHJcbiAgICAgICAgICAgIFwiYSB2YWxpZCBwcmVmZXJlbmNlaWQgbXVzdCBiZSBzZXQgYXMgYSB1cmwgcGFyYW1ldGVyXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHVzZXJpZCA9IG5ldyBPYmplY3RJRCh1c2VyaWQpO1xyXG5cclxuICAgIGF3YWl0IERCLmZldGNoUHJlZmVyZW5jZSh1c2VyaWQsIHByZWZlcmVuY2VpZClcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIHByZWZlcmVuY2UgPSByZXM7XHJcbiAgICAgICAgICAgIGNvZGUgPSByZXMgPyAyMDAgOiA0MDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgIGNvZGUgPSA0MDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgaWYgKGNvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKHByZWZlcmVuY2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKGNvZGUpLnNlbmQoXHJcbiAgICAgICAgICAgIFwiQ291bGQgbm90IGZpbmQgYSBtYXRjaCB0byBnaXZlbiBJRHMgaW4gdGhlIERCLiBPciBlbHNlIGNoZWNrIGRhdGFic2UgY29ubmVjdGlvblwiXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcbi8vICFTRUNUSU9OXHJcbi8vIFRPRE8gLSBERUxFVEUgUFJFRkVSRU5DRVxyXG4vLyBUT0RPIC0gVVBEQVRFIFBSRUZFUkVOQ0VcclxuLy8gIVNFQ1RJT05cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEV2ZW50cyBFbmRwb2ludCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8vIFNFQ1RJT04gLSBFVkVOVFNcclxuLy8gU0VDVElPTiAtIENSRUFURSBFVkVOVFNcclxuLy8gQWRkIGEgbmV3IGV2ZW50XHJcbmFwcC5wb3N0KFwiL2V2ZW50cy86dXNlcmlkXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IHVzZXJpZCA9IHJlcS5wYXJhbXMudXNlcmlkO1xyXG4gICAgbGV0IGNvZGUgPSA0MDA7XHJcbiAgICBpZiAoIXZhbGlkSUQodXNlcmlkKSkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoY29kZSkuc2VuZChcImEgdmFsaWQgdXNlcmlkIG11c3QgYmUgc2V0IGFzIGEgdXJsIHBhcmFtZXRlclwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB1c2VyaWQgPSBuZXcgT2JqZWN0SUQodXNlcmlkKTtcclxuICAgIGxldCBldmVudCA9IHtcclxuICAgICAgICBfaWQ6IG5ldyBPYmplY3RJRCgpLFxyXG4gICAgICAgIHRpdGxlOiByZXEuYm9keS50aXRsZSxcclxuICAgICAgICAvLyBUT0RPIC0gT3RoZXIgZmllbGRzIHN1Y2ggYXMgc3RhcnQgdGltZSwgZW5kIHRpbWUsIGNhdGVnb3J5LCBlY3QuXHJcbiAgICB9O1xyXG5cclxuICAgIGF3YWl0IERCLmluc2VydEV2ZW50KHVzZXJpZCwgZXZlbnQpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzID49IDEpIHtcclxuICAgICAgICAgICAgICAgIGNvZGUgPSAyMDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlID0gNDAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICAgIGlmIChjb2RlID09IDIwMSkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoY29kZSkuc2VuZChldmVudCk7XHJcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT0gNDAwKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKFxyXG4gICAgICAgICAgICBcImNvdWxkIG5vdCBmaW5kIGEgbWF0Y2ggaW4gdGhlIGRhdGFiYXNlIGJhc2VkIG9uIHBhc3NlZCBpbiBJRFwiXHJcbiAgICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoXCJ1bmV4cGVjdGVkIGVycm9yXCIpO1xyXG4gICAgfVxyXG59KTtcclxuLy8gIVNFQ1RJT05cclxuXHJcbi8vIFNFQ1RJT04gLSBGRVRDSCBBTEwgRVZFTlRTXHJcbi8vIEZldGNoIGFsbCBldmVudHNcclxuYXBwLmdldChcIi9ldmVudHMvOnVzZXJpZFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCB1c2VyaWQgPSByZXEucGFyYW1zLnVzZXJpZDtcclxuICAgIGxldCBjb2RlID0gNDAwO1xyXG4gICAgbGV0IGV2ZW50cyA9IFtdO1xyXG4gICAgaWYgKCF2YWxpZElEKHVzZXJpZCkpIHtcclxuICAgICAgICByZXMuc3RhdHVzKGNvZGUpLnNlbmQoXCJhIHZhbGlkIHVzZXJpZCBtdXN0IGJlIHNldCBhcyBhIHVybCBwYXJhbWV0ZXJcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdXNlcmlkID0gbmV3IE9iamVjdElEKHVzZXJpZCk7XHJcblxyXG4gICAgYXdhaXQgREIuZmV0Y2hBbGxFdmVudHModXNlcmlkKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgZXZlbnRzID0gcmVzO1xyXG4gICAgICAgICAgICBjb2RlID0gcmVzID8gMjAwIDogNDAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICBjb2RlID0gNDAwO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGlmIChjb2RlID09IDIwMCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoY29kZSkuc2VuZChldmVudHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKGNvZGUpLnNlbmQoXHJcbiAgICAgICAgICAgIFwiQ291bGQgbm90IGZpbmQgYSBtYXRjaCB0byBnaXZlbiB1c2VyaWQgaW4gdGhlIERCLiBPciBlbHNlIGNoZWNrIGRhdGFic2UgY29ubmVjdGlvblwiXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcbi8vICFTRUNUSU9OXHJcblxyXG4vLyBTRUNUSU9OIC0gRkVUQ0ggRVZFTlRcclxuLy8gRmV0Y2ggYW4gZXZlbnRcclxuYXBwLmdldChcIi9ldmVudHMvOnVzZXJpZC86ZXZlbnRpZFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCB1c2VyaWQgPSByZXEucGFyYW1zLnVzZXJpZDtcclxuICAgIGxldCBldmVudGlkID0gcmVxLnBhcmFtcy5ldmVudGlkO1xyXG4gICAgbGV0IGNvZGUgPSA0MDA7XHJcbiAgICBsZXQgZXZlbnQgPSB7fTtcclxuICAgIGlmICghdmFsaWRJRCh1c2VyaWQpKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhjb2RlKS5zZW5kKFwiYSB2YWxpZCB1c2VyaWQgbXVzdCBiZSBzZXQgYXMgYSB1cmwgcGFyYW1ldGVyXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghdmFsaWRJRChldmVudGlkKSkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoY29kZSkuc2VuZChcclxuICAgICAgICAgICAgXCJhIHZhbGlkIHByZWZlcmVuY2VpZCBtdXN0IGJlIHNldCBhcyBhIHVybCBwYXJhbWV0ZXJcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdXNlcmlkID0gbmV3IE9iamVjdElEKHVzZXJpZCk7XHJcblxyXG4gICAgYXdhaXQgREIuZmV0Y2hFdmVudCh1c2VyaWQsIGV2ZW50aWQpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBldmVudCA9IHJlcztcclxuICAgICAgICAgICAgY29kZSA9IHJlcyA/IDIwMCA6IDQwMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgY29kZSA9IDQwMDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBpZiAoY29kZSA9PSAyMDApIHtcclxuICAgICAgICByZXMuc3RhdHVzKGNvZGUpLnNlbmQoZXZlbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKGNvZGUpLnNlbmQoXHJcbiAgICAgICAgICAgIFwiQ291bGQgbm90IGZpbmQgYSBtYXRjaCB0byBnaXZlbiBJRHMgaW4gdGhlIERCLiBPciBlbHNlIGNoZWNrIGRhdGFic2UgY29ubmVjdGlvblwiXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcbi8vICFTRUNUSU9OXHJcbi8vIFRPRE8gLSBERUxFVEUgRVZFTlRcclxuLy8gVE9ETyAtIFVQREFURSBFVkVOVFxyXG4vLyAhU0VDVElPTlxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gVHJhY2tzIEVuZHBvaW50IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8vIFNFQ1RJT04gLSBUUkFDS1NcclxuLy8gVE9ETyAtIENSRUFURSBUUkFDS1MgTElTVFxyXG4vLyBUT0RPIC0gQUREIFRSQUNLU1xyXG4vLyBUT0RPIC0gREVMRVRFIFRSQUNLU1xyXG4vLyBUT0RPIC0gVVBEQVRFIFRSQUNLU1xyXG4vLyBUT0RPIC0gREVMRVRFIFRSQUNLUyBMSVNUXHJcbi8vIFRPRE8gLSBGRVRDSCBUUkFDS1MgTElTVFxyXG4vLyAhU0VDVElPTlxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlcnZlciBTdGFydCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuc3RhcnRTZXJ2ZXIgPSBhc3luYyAoYXBwKSA9PiB7XHJcbiAgICBhd2FpdCBEQi5lc3RhYmxpc2hDb25uZWN0aW9uKClcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGFwcC5saXN0ZW4ocHJvY2Vzcy5lbnYuUE9SVCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibGlzdGVuaW5nLi4uXCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICByZXR1cm4gYXBwO1xyXG59O1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG52YWxpZElEID0gKGlkKSA9PiB7XHJcbiAgICBpZiAoaWQgPT0gdW5kZWZpbmVkIHx8IGlkLmxlbmd0aCAhPSAyNCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gICAgLy8gTW9yZSB2YWxpZGF0aW9uXHJcbn07XHJcblxyXG5hcHAgPSBzdGFydFNlcnZlcihhcHApO1xyXG4iXX0=